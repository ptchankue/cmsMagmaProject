/*!
 * 1DS JS SDK Analytics Web, 3.1.1
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
var e=this,t=function(n){"use strict";var o="function",s="object",t="undefined",a="prototype",c="hasOwnProperty";function e(){return typeof globalThis!==t&&globalThis?globalThis:typeof self!==t&&self?self:typeof window!==t&&window?window:typeof global!==t&&global?global:null}function r(e){var t=Object.create;if(t)return t(e);if(null==e)return{};if((t=typeof e)!==s&&t!==o)throw new TypeError("Object prototype may only be an Object:"+e);function n(){}return n[a]=e,new n}function i(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[a][c].call(t,r)&&(e[r]=t[r]);return e}var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])})(e,t)};function u(e,t){function n(){this.constructor=e}l(e,t),e[a]=null===t?r(t):(n[a]=t[a],new n)}si=u,(Ma=ci=e()||{}).__assign||(Ma.__assign=Object.assign||i),Ma.__extends||(Ma.__extends=si),__assign=__assign||ci.__assign,__extends=__extends||ci.__extends;var z,H={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},f="constructor",g="prototype",h="function",m="_dynInstFuncs",v="_isDynProxy",y="_dynClass",I="_dynCls$",T="_dynInstChk",C=T,E="_dfOpts",p="_unknown_",d="__proto__",N="useBaseInst",S="setInstFuncs",b=Object,A=b.getPrototypeOf,w=0;function _(e,t){return e&&b[g].hasOwnProperty.call(e,t)}function x(e){return e&&(e===b[g]||e===Array[g])}function P(e){return x(e)||e===Function[g]}function D(e){if(e){if(A)return A(e);if(e=e[d]||e[g]||e[f])return e}return null}function k(e,t){var n=[],i=b.getOwnPropertyNames;if(i)n=i(e);else for(var r in e)"string"==typeof r&&_(e,r)&&n.push(r);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function R(e,t,n){return t!==f&&typeof e[t]===h&&(n||_(e,t))}function L(e){throw new TypeError("DynamicProto: "+e)}function O(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function M(e,t){return _(e,g)?e.name||t||p:((e||{})[f]||{}).name||t||p}function W(e,n,t,i){_(e,g)||L("theClass is an invalid class definition.");var r=e[g];!function(e){for(var t=D(n);t&&!P(t);){if(t===e)return 1;t=D(t)}}(r)&&L("["+M(e)+"] is not in class hierarchy of ["+M(n)+"]");var a=null;_(r,y)?a=r[y]:(a=I+M(e,"_")+"$"+w,w++,r[y]=a);var o,s,c,l,u,f,p=W[E],d=!!p[N];d&&i&&i[N]!==undefined&&(d=!!i[N]),t(n,function(e,t,n,a){function i(e,t,n){var i,r=t[n];return r[v]&&a&&!1!==(i=e[m]||{})[C]&&(r=(i[t[y]]||{})[n]||r),function(){return r.apply(e,arguments)}}var r={};k(n,function(e){r[e]=i(t,n,e)});for(var o=D(e),s=[];o&&!P(o)&&!O(s,o);)k(o,function(e){!r[e]&&R(o,e,!A)&&(r[e]=i(t,o,e))}),s.push(o),o=D(o);return r}(r,n,(s={},k(o=n,function(e){!s[e]&&R(o,e,!1)&&(s[e]=o[e])}),e=s),d)),c=r,a=a,l=n,u=e,i=!1!==(p=(p=!!A&&!!p[S])&&i?!!i[S]:p),x(c)||(p=l[m]=l[m]||{},f=p[a]=p[a]||{},!1!==p[C]&&(p[C]=!!i),k(l,function(e){var n,i,r;R(l,e,!1)&&l[e]!==u[e]&&(f[e]=l[e],delete l[e],_(c,e)&&(!c[e]||c[e][v])||(c[e]=(n=c,i=e,(r=function(){var e,t;return(function(e,t,n,i){var r=null;if(e&&_(n,y)){var a=e[m]||{};if((r=(a[n[y]]||{})[t])||L("Missing ["+t+"] "+h),!r[T]&&!1!==a[C]){for(var o=!_(e,t),s=D(e),c=[];o&&s&&!P(s)&&!O(c,s);){var l=s[t];if(l){o=l===i;break}c.push(s),s=D(s)}try{o&&(e[t]=r),r[T]=1}catch(u){a[C]=!1}}}return r}(this,i,n,r)||(typeof(t=(t=n[e=i])===r?D(n)[e]:t)!==h&&L("["+e+"] is not a "+h),t)).apply(this,arguments)})[v]=1,r)))}))}W[E]={setInstFuncs:!0,useBaseInst:!0},(fi=z=z||{})[fi.CRITICAL=1]="CRITICAL",fi[fi.WARNING=2]="WARNING";var V={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},U="on",B="attachEvent",F="addEventListener",G="detachEvent",K="removeEventListener",q=Object,X=q[a],j=X.hasOwnProperty,Y=q.defineProperty,J=q.assign;function Q(e){return X.toString.call(e)}function Z(e){return e===undefined||typeof e===t}function $(e){return null===e||Z(e)}function ee(e){return!$(e)}function te(e,t){return e&&j.call(e,t)}function ne(e){return typeof e===s}function ie(e){return typeof e===o}function re(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!$(e))try{$(e[F])?$(e[B])||(e[B](U+t,n),r=!0):(e[F](t,n,i),r=!0)}catch(a){}return r}function ae(e,t,n,i){if(void 0===i&&(i=!1),!$(e))try{$(e[K])?$(e[G])||e[G](U+t,n):e[K](t,n,i)}catch(r){}}function oe(e,t){if(e)for(var n in e)j.call(e,n)&&t.call(e,n,e[n])}function se(e,t){if(e&&t){var n=t.length,i=e.length;if(e===t)return!0;if(n<=i){for(var r=i-1,a=n-1;0<=a;a--){if(e[r]!=t[a])return!1;r--}return!0}}return!1}function ce(e,t){var n=!1;if(e&&t){var i=t.length;if(e===t)return!0;if(e.length>=i){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;n=!0}}return n}function le(e,t){return!(!e||!t||!~e.indexOf(t))}function ue(e){return"[object Date]"===Q(e)}function fe(e){return"[object Array]"===Q(e)}function pe(e){return"[object Error]"===Q(e)}function de(e){return"string"==typeof e}function ge(e){return"number"==typeof e}function he(e){return"boolean"==typeof e}function me(e){if(ue(e)){var t=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ve(e,t,n){for(var i=e.length,r=0;r<i&&!(r in e&&-1===t.call(n||e,e[r],r,e));r++);}function ye(e,t,n){for(var i=e.length,r=Math.max(0<=(n=n||0)?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r;return-1}function Ie(e,t,n){for(var i=e.length,r=n||e,a=Array(i),o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e));return a}function Te(e,t,n){var i,r=e.length,a=0;if(3<=arguments.length)i=n;else{for(;a<r&&!(a in e);)a++;i=e[a++]}for(;a<r;)a in e&&(i=t(i,e[a],a,e)),a++;return i}function Ce(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var Ee=!{toString:null}.propertyIsEnumerable("toString"),Ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Se(e){var t=typeof e;if(t!==o&&(t!==s||null===e))throw new TypeError("objKeys called on non-object");var n,i=[];for(n in e)e&&j.call(e,n)&&i.push(n);if(Ee)for(var r=Ne.length,a=0;a<r;a++)e&&j.call(e,Ne[a])&&i.push(Ne[a]);return i}function be(e,t,n,i){if(Y)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),i&&(r.set=i),Y(e,t,r),!0}catch(a){}return!1}function Ae(){var e=Date;return e.now?e.now():(new e).getTime()}function we(e){return pe(e)?e.name:""}function _e(e,t,n,i,r){var a=n;return e&&((a=e[t])===n||r&&!r(a)||i&&!i(n)||(e[t]=a=n)),a}function xe(e){return!e}function Pe(e){return!!e}function De(e){throw Error(e)}function ke(i,r,a){if(i&&r&&i!==r&&ne(i)&&ne(r))for(var e in r)!function(t){var e,n;de(t)&&(ie(e=r[t])?a&&!a(t,!0,r,i)||(i[t]=(n=t,function(){return r[n].apply(r,arguments)})):a&&!a(t,!1,r,i)||(te(i,t)&&delete i[t],be(i,t,function(){return r[t]},function(e){r[t]=e})||(i[t]=e)))}(e);return i}function Re(e){return e&&q(J?J({},e):e)}var Le=t,Oe=s,Me=a,Ve="window",Ue="document",Be="navigator",Fe="history",ze="location",He="performance",We="JSON",Ge="crypto",Ke="msCrypto",qe="msie",Xe="trident/",je=null,Ye=null,Je=!1,Qe=e;function Ze(e){var t=Qe();return t&&t[e]?t[e]:e===Ve&&$e()?window:null}function $e(){return typeof window===Oe&&window}function et(){return $e()?window:Ze(Ve)}function tt(){return typeof document===Oe&&document?document:Ze(Ue)}function nt(){return!(typeof navigator!==Oe||!navigator)}function it(){return nt()?navigator:Ze(Be)}function rt(e){return e&&Je&&(e=Ze("__mockLocation"))?e:typeof location===Oe&&location?location:Ze(ze)}function at(){return Ze(He)}function ot(){return typeof JSON===Oe&&JSON||null!==Ze(We)}function st(){return ot()?JSON||Ze(We):null}function ct(){var e=it();return!(!e||!e.product)&&"ReactNative"===e.product}function lt(){var e=it();return!e||e.userAgent===Ye&&null!==je||(e=((Ye=e.userAgent)||"").toLowerCase(),je=le(e,qe)||le(e,Xe)),je}function ut(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ot()&&(n=st().stringify(e)),t+n}function ft(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var pt=(dt.dataType="MessageData",dt);function dt(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",ot()&&(e=st().stringify(i)),e=(t?" message:"+ft(t):"")+(i?" props:"+ft(e):""),this.message+=e}function gt(e,t){return(e||{}).logger||new ht(t)}var ht=function ks(n){this.identifier="DiagnosticLogger",this.queue=[];var r=0,o={};W(ks,this,function(a){function e(e,t){return $(e=n[e])?t:e}$(n)&&(n={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,i,r){if(n=new pt(t,n,r=void 0!==r&&r,i),a.enableDebugExceptions())throw n;Z(n)||!n||Z(n.message)||(i=a.consoleLoggingLevel(),r?(r=+n.messageId,!o[r]&&i>=z.WARNING&&(a.warnToConsole(n.message),o[r]=!0)):i>=z.WARNING&&a.warnToConsole(n.message),a.logInternalMessage(e,n))},a.warnToConsole=function(e){var t,n=typeof console!==Le?console:Ze("console");n&&(t="log",ie(n[t=n.warn?"warn":t])&&n[t](e))},a.resetInternalMessageCount=function(){r=0,o={}},a.logInternalMessage=function(e,t){var n,i;r>=a.maxInternalMessageLimit()||(n=!0,i="AITR_"+t.messageId,o[i]?n=!1:o[i]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),r++),r===a.maxInternalMessageLimit()&&(t=new pt(V.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),a.warnToConsole(e))))}})},mt="ctx",vt=(yt.ParentContextKey="parent",yt.ChildrenContextKey="childEvts",yt);function yt(e,r,t){var n,a=this,o=!1;a.start=Ae(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},ie(r)&&(o=be(a,"payload",function(){return!n&&ie(r)&&(n=r(),r=null),n})),a.getCtx=function(e){return e?(e===yt.ParentContextKey||e===yt.ChildrenContextKey?a:a[mt]||{})[e]:null},a.setCtx=function(e,t){e&&(e===yt.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===yt.ChildrenContextKey?a[e]=t:(a[mt]=a[mt]||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(yt.ChildrenContextKey);if(fe(t))for(var n=0;n<t.length;n++){var i=t[n];i&&(e+=i.time)}a.time=Ae()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&ie(r)&&(a.payload=r())}}var It=function Rs(t){this.ctx={},W(Rs,this,function(n){n.create=function(e,t,n){return new vt(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n[mt]=n[mt]||{})[e]=t)},n.getCtx=function(e){return(n[mt]||{})[e]}})},Tt="CoreUtils.doPerf";function Ct(e,t,n,i,r){if(e){var a=e;if(a=a&&ie(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(Tt);try{if(s=a.create(t(),i,r))return e&&s.setCtx&&(s.setCtx(vt.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(vt.ChildrenContextKey))||(o=[],e.setCtx(vt.ChildrenContextKey,o)),o.push(s))),a.setCtx(Tt,s),n(s)}catch(c){s&&s.setCtx&&s.setCtx("exception",c)}finally{s&&a.fire(s),a.setCtx(Tt,e)}}}return n()}var Et=function(r,t){var a=this,o=null,s=ie(r.processTelemetry),c=ie(r.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return r},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,i){var e=r?r.identifier:"TelemetryPluginChain";Ct((i=i||t)?i.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){a._hasRun=!0;try{i.setNext(o),c&&r.setNextPlugin(o),o&&(o._hasRun=!1),r.processTelemetry(n,i)}catch(t){var e=o&&o._hasRun;o&&e||i.diagLog().throwInternal(z.CRITICAL,V.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+t),o&&!e&&o.processTelemetry(n,i)}}else o&&(a._hasRun=!0,o.processTelemetry(n,i))},function(){return{item:n}},!n.sync)}};function Nt(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var a=e[r];a&&ie(a.processTelemetry)&&(a=new Et(a,t),n.push(a),i&&i.setNext(a),i=a)}return 0<n.length?n[0]:null}var St=function Ls(e,r,n,t){var i,a,o,s,c=this,l=null;null!==t&&(e&&ie(e.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var a=e.getPlugin();!r&&a!==n||(r=!0,i.push(a)),e=e.getNext()}return r||i.push(n),Nt(i,t)}(e,c,t||e.getPlugin()):t?(i=c,o=e,s=!1,(a=t)&&e&&(o=[],ve(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),l=Nt(o,i)):Z(t)&&(l=Nt(e,c))),c.core=function(){return n},c.diagLog=function(){return gt(n,r)},c.getCfg=function(){return r},c.getExtCfg=function(e,t){var n,i;return void 0===t&&(t={}),!r||(i=r.extensionConfig)&&e&&(n=i[e]),n||t},c.getConfig=function(e,t,n){var i;return void 0===n&&(n=!1),(e=c.getExtCfg(e,null))&&!$(e[t])?i=e[t]:r&&!$(r[t])&&(i=r[t]),$(i)?n:i},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new Ls((e=void 0===e?null:e)||l,r,n,t)}},bt="extensionConfig",At="getPlugin",wt=(_t.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},_t);function _t(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&ie(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new St(null,{},a.core),t=c&&c[At]?e.createNew(null,c[At]):e.createNew(null,c)),t},a._baseTelInit=function(e,t,n,i){e&&_e(e,bt,[],null,$),!i&&t&&(i=t.getProcessTelContext().getNext());var r=c;c&&c[At]&&(r=c[At]()),a.core=t,s=new St(i,e,t,r),o=!0}}var xt="processTelemetry",Pt="priority",Dt="setNextPlugin",kt="isInitialized";function Rt(t,n){for(var e=[],i=null,r=t.getNext();r;){var a=r.getPlugin();a&&(i&&ie(i[Dt])&&ie(a[xt])&&i[Dt](a),ie(a[kt])&&a[kt]()||e.push(a),i=a,r=r.getNext())}ve(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function Lt(e){return e.sort(function(e,t){var n=0,i=ie(t[xt]);return ie(e[xt])?n=i?e[Pt]-t[Pt]:1:i&&(n=-1),n})}var Ot,Mt=500,Vt="Channel has invalid priority",Ut=(Ot=wt,__extends(Bt,Ot),Bt._staticInit=(be(eo=Bt.prototype,"ChannelControls",eo.getChannelControls),void be(eo,"channelQueue",eo.getChannelControls)),Bt);function Bt(){var c,i=Ot.call(this)||this;function l(e){e&&0<e.length&&(ve(e=e.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<Mt&&De(Vt+e.identifier)}),c.push(e))}return i.identifier="ChannelControllerPlugin",i.priority=Mt,W(Bt,i,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&ve(c,function(e){0<e.length&&i._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,i){var e,r,a;o.isInitialized()||(s.initialize(t,n,i),e=(t||{}).channels,r=i,c=[],e&&ve(e,l),r&&(a=[],ve(r,function(e){e.priority>Mt&&a.push(e)}),l(a)),ve(c,function(e){return Rt(new St(e,t,n),i)}))}}),i}var Ft="toGMTString",zt="toUTCString",Ht="cookie",Wt="expires",Gt="enabled",Kt="isCookieUseDisabled",qt="disableCookiesUsage",Xt="_ckMgr",jt="",Yt=null,Jt=null,Qt=null,Zt=tt(),$t={},en={};function tn(e){return!e||e.isEnabled()}function nn(e,t){var n,i;return e?n=e.getCookieMgr():t&&(n=(t||{}).cookieCfg[Xt]||rn(t)),n||(i=t,t=(e||{}).logger,(e=rn[Xt]||en[Xt])||(e=rn[Xt]=rn(i,t),en[Xt]=e),n=e),n}function rn(e,i){var t,n,c=(_e(n=(t=e||en).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,ee,$),_e(n,"path",t.cookiePath||"/",null,$),$(n[Gt])&&(e=void 0,Z(t[Kt])||(e=!t[Kt]),Z(t[qt])||(e=!t[qt]),n[Gt]=e),n),l=c.path||"/",u=c.domain,r=!1!==c[Gt],f={isEnabled:function(){var e=r&&an(i),t=en[Xt];return e&&t&&f!==t?tn(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,i,r){var a,o,s;tn(f)&&(a={},-1!=(s=(o=Ce(t||jt)).indexOf(";"))&&(o=Ce(t.substring(0,s)),a=on(t.substring(1+s))),_e(a,"domain",i||u,Pe,Z),$(n)||(t=lt(),!Z(a[Wt])||0<(s=Ae()+1e3*n)&&((i=new Date).setTime(s),_e(a,Wt,sn(i,t?Ft:zt)||sn(i,t?Ft:zt)||jt,Pe)),t||_e(a,"max-age",jt+n,null,Z)),(n=rt())&&"https:"===n.protocol&&(_e(a,"secure",null,null,Z),(Jt=null===Jt?!un((it()||{}).userAgent):Jt)&&_e(a,"SameSite","None",null,Z)),_e(a,"path",r||l,null,Z),(c.setCookie||ln)(e,cn(o,a)))},get:function(e){var t=jt;return tn(f)?(c.getCookie||function(e){var t,n=jt;return Zt&&(t=Zt[Ht]||jt,Qt!==t&&($t=on(t),Qt=t),n=Ce($t[e]||jt)),n})(e):t},del:function(e,t){tn(f)&&f.purge(e,t)},purge:function(e,t){var n;an(i)&&((n={}).path=t||"/",n[Wt]="Thu, 01 Jan 1970 00:00:01 GMT",lt()||(n["max-age"]="0"),(c.delCookie||ln)(e,cn(jt,n)))}};return f[Xt]=f}function an(e){if(null===Yt){Yt=!1;try{Yt=(Zt||{})[Ht]!==undefined}catch(t){e&&e.throwInternal(z.WARNING,V.CannotAccessCookie,"Cannot access document.cookie - "+we(t),{exception:ut(t)})}}return Yt}function on(e){var n={};return e&&e.length&&ve(Ce(e).split(";"),function(e){var t;(e=Ce(e||jt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[Ce(e.substring(0,t))]=Ce(e.substring(1+t)))}),n}function sn(e,t){return ie(e[t])?e[t]():null}function cn(e,t){var n=e||jt;return oe(t,function(e,t){n+="; "+e+($(t)?jt:"="+t)}),n}function ln(e,t){Zt&&(Zt[Ht]=e+"="+t)}function un(e){return!(!de(e)||!le(e,"CPU iPhone OS 12")&&!le(e,"iPad; CPU OS 12")&&!(le(e,"Macintosh; Intel Mac OS X 10_14")&&le(e,"Version/")&&le(e,"Safari"))&&(!le(e,"Macintosh; Intel Mac OS X 10_14")||!se(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!le(e,"Chrome/5")&&!le(e,"Chrome/6")&&(!le(e,"UnrealEngine")||le(e,"Chrome"))&&!le(e,"UCBrowser/12")&&!le(e,"UCBrowser/11"))}var fn,pn="_notificationManager",dn=function Os(e){this.listeners=[];var t=!!(e||{}).perfEvtsSendAll;W(Os,this,function(r){r.addNotificationListener=function(e){r.listeners.push(e)},r.removeNotificationListener=function(e){for(var t=ye(r.listeners,e);-1<t;)r.listeners.splice(t,1),t=ye(r.listeners,e)},r.eventsSent=function(t){ve(r.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},r.eventsDiscarded=function(t,n){ve(r.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},r.eventsSendRequest=function(n,i){ve(r.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(n,i)},0);else try{e.eventsSendRequest(n,i)}catch(t){}})},r.perfEvent=function(n){n&&(!t&&n.isChildEvt()||ve(r.listeners,function(e){if(e&&e.perfEvent)if(n.isAsync)setTimeout(function(){return e.perfEvent(n)},0);else try{e.perfEvent(n)}catch(t){}}))}})},gn=(fn=function Ms(){var t,l,u,n,i,f=!1;W(Ms,this,function(c){c._extensions=[],l=new Ut,c.logger=r({throwInternal:function(e,t,n,i,r){},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],c.isInitialized=function(){return f},c.initialize=function(e,t,i,n){var r,a;c.isInitialized()&&De("Core should not be initialized more than once"),e&&!$(e.instrumentationKey)||De("Please provide instrumentation key"),u=n,c[pn]=n,c.config=e||{},e.extensions=$(e.extensions)?[]:e.extensions,e?!(a=e[bt])&&$(a)&&(a=Z(r)?{}:r,e[bt]=a):a=Z(r)?{}:r,a.NotificationManager=n,i&&(c.logger=i),(n=[]).push.apply(n,t.concat(e.extensions));var n=Lt(n),o=[],s={};ve(n,function(e){($(e)||$(e.initialize))&&De("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&($(s[t])?s[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+s[t]+", "+n)),(!t||t<l.priority)&&o.push(e)}),n.push(l),o.push(l),n=Lt(n),c._extensions=n,Rt(new St([l],e,c),n),Rt(new St(o,e,c),n),c._extensions=o,0===c.getTransmissionControls().length&&De("No channels available"),f=!0,c.releaseQueue()},c.getTransmissionControls=function(){return l.getChannelControls()},c.track=function(e){_e(e,"iKey",c.config.instrumentationKey,null,xe),_e(e,"time",me(new Date),null,xe),_e(e,"ver","4.0",null,$),c.isInitialized()?c.getProcessTelContext().processNext(e):t.push(e)},c.getProcessTelContext=function(){var e=c._extensions,t=e;return e&&0!==e.length||(t=[l]),new St(t,c.config,c)},c.getNotifyMgr=function(){return u||(u=r({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),c[pn]=u),u},c.getCookieMgr=function(){return i=i||rn(c.config,c.logger)},c.setCookieMgr=function(e){i=e},c.getPerfMgr=function(){return n||c.config&&c.config.enablePerfMgr&&(n=new It(c.getNotifyMgr())),n},c.setPerfMgr=function(e){n=e},c.eventCnt=function(){return t.length},c.releaseQueue=function(){0<t.length&&(ve(t,function(e){c.getProcessTelContext().processNext(e)}),t=[])}})},__extends(hn,fn),hn);function hn(){var e=fn.call(this)||this;return W(hn,e,function(n,r){function t(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],H.InvalidEvent)}n.initialize=function(e,t,n,i){r.initialize(e,t,n||new ht(e),i||new dn(e))},n.track=function(e){Ct(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===e&&(t(e),De("Invalid telemetry item")),function(){if($(e.name))throw t(e),Error("telemetry name required")}(),r.track(e)},function(){return{item:e}},!e.sync)},n.addNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.addNotificationListener(e)},n.removeNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.removeNotificationListener(e)},n.pollInternalLogs=function(t){var e=n.config.diagnosticLogInterval;return setInterval(function(){var e=n.logger?n.logger.queue:[];ve(e,function(e){e={name:t||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:me(new Date),baseType:pt.dataType,baseData:{message:e.message}},n.track(e)}),e.length=0},e=e&&0<e?e:1e4)}}),e}var mn=4294967296,vn=4294967295,yn=!1,In=123456789,Tn=987654321;function Cn(e){e<0&&(e>>>=0),In=123456789+e&vn,Tn=987654321-e&vn,yn=!0}function En(){try{var e=2147483647&Ae();Cn((Math.random()*mn^e)+e)}catch(t){}}function Nn(e){return 0<e?Math.floor(Sn()/vn*(e+1))>>>0:0}function Sn(e){var t=(t=Ze(Ge)||Ze(Ke))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&vn:lt()?(yn||En(),bn()&vn):Math.floor(mn*Math.random()|0);return e||(t>>>=0),t}function bn(e){var t=((Tn=36969*(65535&Tn)+(Tn>>16)&vn)<<16)+(65535&(In=18e3*(65535&In)+(In>>16)&vn))>>>0&vn|0;return e||(t>>>=0),t}function An(e,t){var n=!1,i=et();return i&&(n=re(i,e,t),n=re(i.body,e,t)||n),(i=tt())&&kn.Attach(i,e,t)||n}function wn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Dn,function(e){var t=0|Nn(15);return("x"===e?t:3&t|8).toString(16)})}function _n(){var e=at();return e&&e.now?e.now():Ae()}function xn(e){void 0===e&&(e=22);for(var t=Sn()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(Sn()<<2&4294967295|3&t)>>>0,n=0);return i}function Pn(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=Sn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&Sn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}var Dn=/[xy]/g,kn={Attach:re,AttachEvent:re,Detach:ae,DetachEvent:ae},Rn={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},Ln={Normal:1,CostDeferred:2,RealTime:3,Immediate:4},On={Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9},Mn=i(i({},V),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),Vn="1DS-Web-JS-3.1.1",Un=((Ma={})[0]=On.Unspecified,Ma[2]=On.Double,Ma[1]=On.String,Ma[3]=On.Bool,Ma[4098]=On.Double,Ma[4097]=On.String,Ma[4099]=On.Bool,Ma),Bn=null,Fn=null,zn=!!tt(),Hn=!!et();function Wn(e){return!(""===e||$(e))}function Gn(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function Kn(){return Bn=null===Bn?nt()&&!!it().sendBeacon:Bn}function qn(e){return!!(e&&ge(e)&&e>=Ln.Normal&&e<=Ln.Immediate)}function Xn(e,t,n){if(!t&&!Wn(t)||"string"!=typeof e)return null;if("string"==(e=typeof t)||"number"==e||"boolean"==e||fe(t))t={value:t};else if("object"!=e||t.hasOwnProperty("value")){if($(t.value)||""===t.value||!de(t.value)&&!ge(t.value)&&!he(t.value)&&!fe(t.value))return null}else t={value:n?JSON.stringify(t):t};if(fe(t.value)&&!ni(t.value))return null;if(!$(t.kind)){if(fe(t.value)||!ti(t.kind))return null;t.value=t.value.toString()}return t}function jn(){if(typeof XMLHttpRequest!==undefined){var e=Ze("XMLHttpRequest");if(e)return!(!Z((new e).withCredentials)||typeof XDomainRequest===undefined)}}function Yn(e,t,n){var i=-1;return Z(e)||(0<t&&(32===t?i=8192:t<=13&&(i=t<<5)),0<=n&&n<=9?(-1===i&&(i=0),i|=n):(e=Un[ai(e)]||-1,-1!==i&&-1!==e?i|=e:e===On.Double&&(i=e))),i}function Jn(e){return an(null)?Qn(nn(null),e):""}function Qn(e,t,n){var i;return void 0===n&&(n=!0),e&&(i=e.get(t),n&&i&&decodeURIComponent&&(i=decodeURIComponent(i))),i||""}function Zn(e){void 0===e&&(e="D");var t=wn();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function $n(e,t,n,i,r){var a={},o=!1,s=0,c=arguments.length,l=Object[Me],u=arguments;for("[object Boolean]"===l.toString.call(u[0])&&(o=u[0],s++);s<c;s++)oe(u[s],function(n,e){o&&e&&ne(e)?fe(e)?(a[n]=a[n]||[],ve(e,function(e,t){e&&ne(e)?a[n][t]=$n(!0,a[n][t],e):a[n][t]=e})):a[n]=$n(!0,a[n],e):a[n]=e});return a}var ei=_n;function ti(e){return e===Rn.NotSet||e>Rn.NotSet&&e<=Rn.Pii_IPV4AddressLegacy||e===Rn.CustomerContent_GenericContent}function ni(e){return 0<e.length}function ii(e){var t=An("beforeunload",e),t=An("unload",e)||t;return An("pagehide",e)||t}function ri(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=ei()}function ai(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===s&&(n=4,fe(e)?(n=4096,0<e.length&&(n|=ai(e[0]))):te(e,"value")&&(n=8192|ai(e.value)))),n}var oi,si={Version:"3.1.1",FullVersionString:Vn,strUndefined:Le,strObject:Oe,Undefined:Le,arrForEach:ve,arrIndexOf:ye,arrMap:Ie,arrReduce:Te,objKeys:Se,toISOString:me,isReactNative:ct,isString:de,isNumber:ge,isBoolean:he,isFunction:ie,isArray:fe,isObject:ne,strTrim:Ce,isDocumentObjectAvailable:zn,isWindowObjectAvailable:Hn,isValueAssigned:Wn,getTenantId:Gn,isBeaconsSupported:Kn,isUint8ArrayAvailable:function(){return Fn=null===Fn?!(Z(Uint8Array)||!Z(e=it())&&e.userAgent&&(~(e=e.userAgent.toLowerCase()).indexOf("safari")||~e.indexOf("firefox"))&&!~e.indexOf("chrome")||ct()):Fn;var e},isLatency:qn,sanitizeProperty:Xn,getISOString:me,useXDomainRequest:jn,getCommonSchemaMetaData:Yn,cookieAvailable:an,disallowsSameSiteNone:un,setCookie:function(e,t,n){an(null)&&nn(null).set(e,t,86400*n,null,"/")},deleteCookie:function(e){an(null)&&nn(null).del(e)},getCookie:Jn,createGuid:Zn,extend:$n,getTime:ei,isValueKind:ti,isArrayValid:ni,objDefineAccessors:be,addPageUnloadEventListener:ii,setProcessTelemetryTimings:ri,addEventHandler:An,getFieldValueType:ai,strEndsWith:se,objForEachKey:oe},ci={_canUseCookies:undefined,isTypeof:function(e,t){return typeof e===t},isUndefined:Z,isNullOrUndefined:$,hasOwnProperty:te,isFunction:ie,isObject:ne,isDate:ue,isArray:fe,isError:pe,isString:de,isNumber:ge,isBoolean:he,toISOString:me,arrForEach:ve,arrIndexOf:ye,arrMap:Ie,arrReduce:Te,strTrim:Ce,objCreate:r,objKeys:Se,objDefineAccessors:be,addEventHandler:An,dateNow:Ae,isIE:lt,disableCookies:function(){nn(null).setEnabled(!1)},newGuid:wn,perfNow:_n,newId:xn,randomValue:Nn,random32:Sn,mwcRandomSeed:function(e){e?Cn(e):En()},mwcRandom32:bn,generateW3CId:Pn},li="version",ui="properties",fi=(u(pi,oi=gn),pi);function pi(){var e=oi.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",W(pi,e,function(o,s){o.initialize=function(n,i,r,a){Ct(o,function(){return"AppInsightsCore.initialize"},function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=n.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");n.channels&&ve(n.channels,function(e){e&&ve(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))})})}o.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&ve(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))}),o.pluginVersionString=o.pluginVersionStringArr.join(";");try{s.initialize(n,i,r,a)}catch(t){o.logger.throwInternal(z.CRITICAL,Mn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}o.pollInternalLogs("InternalLog")},function(){return{config:n,extensions:i,logger:r,notificationManager:a}})},o.track=function(n){Ct(o,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=ei(),qn(t.latency)||(t.latency=Ln.Normal),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Vn,(e=t.baseData=t.baseData||{})[ui]||(e[ui]={}),(e=e[ui])[li]||(e[li]=""),""!==o.pluginVersionString&&(e[li]=o.pluginVersionString)),s.track(t)},function(){return{item:n}},!n.sync)}}),e}var di=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function gi(e,t){void 0===t&&(t=di);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=di),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}var hi=(mi.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},mi.prototype._getMetaDataFromDOM=function(e){var t={},n=tt();if(n)for(var i=n&&n.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&(a.name.toLowerCase().indexOf(e)||(t[a.name.replace(e,"")]=a.content))}return t},mi.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=gi(e,this.flightIdNameSpaces))},mi.prototype._getAppExpId=function(){return this.appExpId},mi.prototype._readExpIdFromCookie=function(){var e=Qn(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},mi.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},mi.validateAppExpId=gi,mi._staticInit=void be(mi.prototype,"expId",mi.prototype.getExpId),mi);function mi(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=di.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=nn(t),this._propertiesConfig=e;var n=tt();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var vi=function(){},yi=(Ii.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Qn(this._cookieMgr,"MUID");return e&&this.setLocalId("t:"+e),undefined},Ii.prototype.setLocalId=function(e){this._customLocalId=e},Ii.cookieSeparator="|",Ii.userCookieName="ai_user",Ii._staticInit=void be(Ii.prototype,"localId",Ii.prototype.getLocalId,Ii.prototype.setLocalId),Ii);function Ii(e,t,n){this.core=n;var i,r=this._cookieMgr=nn(n,e);r&&r.isEnabled()&&((n=Qn(r,"MUID"))&&this.setLocalId("t:"+n),t.enableApplicationInsightsUser&&(!(n=Qn(r,Ii.userCookieName))||0<(n=n.split(Ii.cookieSeparator)).length&&(this.id=n[0]),this.id||(this.id=xn(e&&!Z(e.idLength)?e.idLength:22),i=me(new Date),this.accountAcquisitionDate=i,e=[this.id,i],i=t.cookieDomain||undefined,r.set(Ii.userCookieName,e.join(Ii.cookieSeparator),31536e3,i)))),"undefined"!=typeof navigator&&(this.locale=(i=navigator).userLanguage||i.language)}var Ti="Unknown",Ci=(Ei.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Qn(this._cookieMgr,this._propertiesConfig.userConsentCookieName||"MSCC")},Ei.prototype.getUserConsentDetails=function(){try{if(this._propertiesConfig.callback&&this._propertiesConfig.callback.userConsentDetails){var e=this._propertiesConfig.callback.userConsentDetails();if(e)return JSON.stringify({Required:e.Required||!1,Analytics:e.Analytics||!1,SocialMedia:e.SocialMedia||!1,Advertising:e.Advertising||!1})}}catch(t){}return null},Ei.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString("PhantomJS",e)?"PhantomJS":this._userAgentContainsString("Edge",e)?"Edge":this._userAgentContainsString("Electron",e)?"Electron":this._userAgentContainsString("Chrome",e)?"Chrome":this._userAgentContainsString("Trident",e)?"MSIE":this._userAgentContainsString("Firefox",e)?"Firefox":this._userAgentContainsString("Safari",e)?"Safari":this._userAgentContainsString("SkypeShell",e)?"SkypeShell":Ti},Ei.prototype._userAgentContainsString=function(e,t){return!!~t.indexOf(e)},Ei.prototype._getBrowserVersion=function(e,t){return"MSIE"===t?this._getIeVersion(e):this._getOtherVersion(t,e)},Ei.prototype._getIeVersion=function(e){var t=e.match(/MSIE ([\d,.]+)/);return t?t[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0},Ei.prototype._getOtherVersion=function(e,t){return(e=t.match(RegExp((e="Safari"===e?"Version":e)+"/([\\d,.]+)")))?e[1]:Ti},Ei.prototype._getScreenResolution=function(){var e={h:0,w:0},t=et();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e},Ei._staticInit=void be(Ei.prototype,"userConsent",Ei.prototype.getUserConsent),Ei);function Ei(e,t){this._cookieMgr=nn(t),this._propertiesConfig=e,!(t=rt())||(i=t.hostname)&&(this.domain="file:"===t.protocol?"local":i);var n,i="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(i=e.userAgent),e.populateBrowserInfo&&(i&&(n=this._getBrowserName(i),this.browser=n,this.browserVer=this._getBrowserVersion(i,n)),n=this._getScreenResolution(),this.screenRes=n.w+"X"+n.h)}var Ni=/(windows|win32)/i,Si=/ arm;/i,bi=/windows\sphone\s\d+\.\d+/i,Ai=/(macintosh|mac os x)/i,wi=/(ipad|iphone|ipod)(?=.*like mac os x)/i,_i=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,xi=/android/i,Pi=/CrOS/i,Di={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},ki="Unknown",Ri=(Li.prototype._getOsName=function(e){return e.match(bi)?"Windows Phone":e.match(Si)?"Windows RT":e.match(Ni)?"Windows":e.match(wi)?"iOS":e.match(xi)?"Android":e.match(_i)?"Linux":~e.indexOf("x11")?"Unix":~e.indexOf("blackberry")?"BlackBerry":~e.indexOf("symbian")?"Symbian":~e.indexOf("nokia")?"Nokia":e.match(Ai)?"Mac OS X":e.match(Pi)?"Chrome OS":ki},Li.prototype._getOsVersion=function(e,t){return"Windows"===t?this._getGenericOsVersion(e,"Windows NT"):"Android"===t?this._getGenericOsVersion(e,t):"Mac OS X"===t?this._getMacOsxVersion(e):ki},Li.prototype._getGenericOsVersion=function(e,t){return(t=e.match(RegExp(t+" ([\\d,.]+)")))?Di[t[1]]||t[1]:ki},Li.prototype._getMacOsxVersion=function(e){var t=e.match(/Mac OS X ([\d,_,.]+)/);return t&&(e=t[1].replace(/_/g,"."))?(t=this._getDelimiter(e))?e.split(t)[0]:e:ki},Li.prototype._getDelimiter=function(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null},Li);function Li(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";(t=e.userAgent||t)&&e.populateOperatingSystemInfo&&(e=this._getOsName(t.toLowerCase()),this.name=e,this.ver=this._getOsVersion(t,e))}var Oi=(Mi.prototype.getMsfpc=function(){return Qn(this._cookieMgr,"MSFPC")},Mi.prototype.getAnid=function(){return Qn(this._cookieMgr,"ANON").slice(0,34)},Mi._staticInit=(be(Mi.prototype,"msfpc",Mi.prototype.getMsfpc),void be(Mi.prototype,"anid",Mi.prototype.getAnid)),Mi);function Mi(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=nn(t)}var Vi=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Ui=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},Bi=function(){},Fi=(zi.prototype.setId=function(e){this.customId=e},zi._staticInit=void be(zi.prototype,"id",zi.prototype.getId=function(){return de(this.customId)?this.customId:this.automaticId},zi.prototype.setId),zi);function zi(){}var Hi=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||Pn(),this.parentId=n,this.name=i,(i=rt())&&i.pathname&&(this.name=i.pathname))},Wi=(Gi.id="id",Gi.ver="ver",Gi.appName="name",Gi.locale="locale",Gi.expId="expId",Gi.env="env",Gi);function Gi(){}var Ki=(qi.domain="domain",qi.browser="browser",qi.browserVer="browserVer",qi.screenRes="screenRes",qi.userConsent="userConsent",qi.consentDetails="consentDetails",qi);function qi(){}var Xi=(ji.locale="locale",ji.localId="localId",ji.id="id",ji);function ji(){}var Yi=(Ji.osName="name",Ji.ver="ver",Ji);function Ji(){}var Qi=(Zi.ver="ver",Zi.seq="seq",Zi.installId="installId",Zi.epoch="epoch",Zi);function Zi(){}var $i=(er.msfpc="msfpc",er.anid="anid",er.serviceName="serviceName",er);function er(){}var tr=(nr.popSample="popSample",nr.eventFlags="eventFlags",nr);function nr(){}var ir=(rr.tz="tz",rr);function rr(){}var ar=(or.sessionId="sesId",or);function or(){}var sr=(cr.localId="localId",cr.deviceClass="deviceClass",cr.make="make",cr.model="model",cr);function cr(){}var lr=(ur.role="role",ur.roleInstance="roleInstance",ur.roleVer="roleVer",ur);function ur(){}var fr=(pr.traceId="traceID",pr.traceName="name",pr.parentId="parentID",pr);function pr(){}var dr=(gr.UserExt="user",gr.DeviceExt="device",gr.TraceExt="trace",gr.WebExt="web",gr.AppExt="app",gr.OSExt="os",gr.SdkExt="sdk",gr.IntWebExt="intweb",gr.UtcExt="utc",gr.LocExt="loc",gr.CloudExt="cloud",gr);function gr(){}var hr,mr,vr="MicrosoftApplicationsTelemetryDeviceId",yr=(Ir.prototype.getSequenceId=function(){return++this._sequenceId},Ir);function Ir(e,t){this._sequenceId=0;var n=e.propertyStorageOverride;this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString();var i,r,a=nn(t,e);a.isEnabled()||n?(i=a,r=vr,e=(e=(t=n)?t.getProperty(r)||"":Qn(i,r))||wn(),t=a,i=vr,r=e,n?n.setProperty(i,r):t.set(i,r,31536e3),this.installId=e):a.purge(vr)}function Tr(){return hr=hr===undefined?!!Er(mr.LocalStorage):hr}function Cr(){return Tr()?Er(mr.LocalStorage):null}function Er(e){var t,n,i=null;try{var r=Qe();if(!r)return null;n=new Date,(i=e===mr.LocalStorage?r.localStorage:r.sessionStorage)&&ie(i.setItem)&&(i.setItem(n,n),t=i.getItem(n)!==n,i.removeItem(n),t&&(i=null))}catch(a){i=null}return i}function Nr(e,t,n){var i=Cr();if(null!==i)try{return i.setItem(t,n),1}catch(r){hr=!1,e.throwInternal(z.CRITICAL,Mn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+r)}}function Sr(e,t){var n=Cr();if(null!==n)try{return n.getItem(t)}catch(i){hr=!1,e.throwInternal(z.CRITICAL,Mn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+i)}return null}(eo=mr=mr||{})[eo.LocalStorage=0]="LocalStorage",eo[eo.SessionStorage=1]="SessionStorage";var br=(Ar.acquisitionSpan=864e5,Ar.renewalSpan=18e5,Ar.cookieUpdateInterval=6e4,Ar.cookieNameConst="ai_session",Ar);function Ar(e,t){var c,l,u=gt(e),f=nn(e);W(Ar,this,function(o){var e,i={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function r(e){var t,n,i=o.automaticSession;0<(e=e.split("|")).length&&i.setId(e[0]);try{1<e.length&&(t=+e[1],i.acquisitionDate=+new Date(t),i.acquisitionDate=0<i.acquisitionDate?i.acquisitionDate:0),2<e.length&&(n=+e[2],i.renewalDate=+new Date(n),i.renewalDate=0<i.renewalDate?i.renewalDate:0)}catch(r){u.throwInternal(z.CRITICAL,Mn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+r)}0===i.renewalDate&&u.throwInternal(z.WARNING,Mn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!Z(n)&&n?he(n)?e.setId(Zn()):e.setId(Zn(n)):e.setId(xn(i&&i.idLength?i.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),Tr()||u.throwInternal(z.WARNING,Mn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var i=t+o.config.sessionExpirationMs(),r=n+o.config.sessionRenewalMs(),a=new Date,n=[e,t,n];i<r?a.setTime(i):a.setTime(r),r=o.config.cookieDomain?o.config.cookieDomain():null,f.set(l(),n.join("|")+";expires="+a.toUTCString(),null,r),c=(new Date).getTime()}ie(t.sessionExpirationMs)||(i.sessionExpirationMs=function(){return Ar.acquisitionSpan}),ie(t.sessionRenewalMs)||(i.sessionRenewalMs=function(){return Ar.renewalSpan}),o.config=i,l=function(){return o.config.namePrefix&&o.config.namePrefix()?Ar.cookieNameConst+o.config.namePrefix():Ar.cookieNameConst},o.automaticSession=new Fi,o.update=function(){o.automaticSession.getId()||(((i=Jn(l()))&&ie(i.split)||(i=Sr(u,l())))&&r(i),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),i=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();i||t?a():(!c||Ar.cookieUpdateInterval<n-c)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;Nr(u,l(),[e,t,n].join("|"))}})}var wr=de,_r=(xr.prototype.getSessionId=function(){var e=this.session;if(e&&wr(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&wr(t)&&(e.automaticId=t),e.automaticId},xr.prototype.applyApplicationContext=function(e){var t=this.app;wr(t.id)&&(e.ext[dr.AppExt][Wi.id]=t.id),wr(t.ver)&&(e.ext[dr.AppExt][Wi.ver]=t.ver),wr(t.name)&&(e.ext[dr.AppExt][Wi.appName]=t.name),wr(t.locale)&&(e.ext[dr.AppExt][Wi.locale]=t.locale);var n=t.getExpId();wr(n)&&(e.ext[dr.AppExt][Wi.expId]=n),wr(t.env)&&(e.ext[dr.AppExt][Wi.env]=t.env)},xr.prototype.applyUserContext=function(e){var t=this.user,n=t.getLocalId();wr(n)&&(e.ext[dr.UserExt][Xi.localId]=n),wr(t.locale)&&(e.ext[dr.UserExt][Xi.locale]=t.locale),wr(t.id)&&(e.ext[dr.UserExt][Xi.id]=t.id)},xr.prototype.applyWebContext=function(e){var t=this.web;wr(t.domain)&&(e.ext[dr.WebExt][Ki.domain]=t.domain),wr(t.browser)&&(e.ext[dr.WebExt][Ki.browser]=t.browser),wr(t.browserVer)&&(e.ext[dr.WebExt][Ki.browserVer]=t.browserVer),wr(t.screenRes)&&(e.ext[dr.WebExt][Ki.screenRes]=t.screenRes),e.ext[dr.WebExt][Ki.userConsent]=t.getUserConsent(),e.ext[dr.WebExt][Ki.consentDetails]=t.getUserConsentDetails()},xr.prototype.applyOsContext=function(e){var t=this.os;wr(t.name)&&(e.ext[dr.OSExt][Yi.osName]=t.name),wr(t.ver)&&(e.ext[dr.OSExt][Yi.ver]=t.ver)},xr.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[dr.SdkExt][Qi.seq]=t.getSequenceId(),e.ext[dr.SdkExt][Qi.epoch]=t.epoch,wr(t.installId)&&(e.ext[dr.SdkExt][Qi.installId]=t.installId)},xr.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();wr(n)&&(e.ext[dr.IntWebExt][$i.msfpc]=n),n=t.getAnid(),wr(n)&&(e.ext[dr.IntWebExt][$i.anid]=n),wr(t.serviceName)&&(e.ext[dr.IntWebExt][$i.serviceName]=t.serviceName)},xr.prototype.applyUtcContext=function(e){var t=this.utc;e.ext[dr.UtcExt][tr.popSample]=t.popSample,0<t.eventFlags&&(e.ext[dr.UtcExt][tr.eventFlags]=t.eventFlags)},xr.prototype.applyLocContext=function(e){e.ext[dr.LocExt][ir.tz]=this.loc.tz},xr.prototype.applySessionContext=function(e){e.ext[dr.AppExt][ar.sessionId]=this.getSessionId()},xr.prototype.applyDeviceContext=function(e){var t=this.device;wr(t.localId)&&(e.ext[dr.DeviceExt][sr.localId]=t.localId),wr(t.make)&&(e.ext[dr.DeviceExt][sr.make]=t.make),wr(t.model)&&(e.ext[dr.DeviceExt][sr.model]=t.model),wr(t.deviceClass)&&(e.ext[dr.DeviceExt][sr.deviceClass]=t.deviceClass)},xr.prototype.applyCloudContext=function(e){var t=this.cloud;wr(t.role)&&(e.ext[dr.CloudExt][lr.role]=t.role),wr(t.roleInstance)&&(e.ext[dr.CloudExt][lr.roleInstance]=t.roleInstance),wr(t.roleVer)&&(e.ext[dr.CloudExt][lr.roleVer]=t.roleVer)},xr.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;wr(t.traceId)&&(e.ext[dr.TraceExt][fr.traceId]=t.traceId),wr(t.name)&&(e.ext[dr.TraceExt][fr.traceName]=t.name),wr(t.parentId)&&(e.ext[dr.TraceExt][fr.parentId]=t.parentId)},xr);function xr(e,t,n){this.app=new hi(t,n),this.cloud=new vi,this.user=new yi(e,t,n),this.os=new Ri(t),this.web=new Ci(t,n),this.sdk=new yr(e,n),this.intWeb=new Oi(t,n),this.utc=new Vi(t),this.loc=new Ui,this.device=new Bi,this.telemetryTrace=new Hi(t),this.sessionManager=new br(n,t),this.session=new Fi}var Pr,Dr=(u(kr,Pr=wt),kr);function kr(){var a,i=Pr.call(this)||this;i.identifier="SystemPropertiesCollector",i.priority=3,i.version="3.1.1";var o={};return W(kr,i,function(r,e){r.initialize=function(e,t,n){Pr.prototype.initialize.call(i,e,t,n),a=new _r(e,r._getTelCtx().getExtCfg(r.identifier),t)},r.processTelemetry=function(e,t){ri(e,r.identifier),t=r._getTelCtx(t);var n,i=e.ext=e.ext||{};e.data=e.data||{},i[dr.AppExt]=i[dr.AppExt]||{},i[dr.UserExt]=i[dr.UserExt]||{},i[dr.WebExt]=i[dr.WebExt]||{},i[dr.OSExt]=i[dr.OSExt]||{},i[dr.SdkExt]=i[dr.SdkExt]||{},i[dr.IntWebExt]=i[dr.IntWebExt]||{},i[dr.UtcExt]=i[dr.UtcExt]||{},i[dr.LocExt]=i[dr.LocExt]||{},i[dr.DeviceExt]=i[dr.DeviceExt]||{},i[dr.TraceExt]=i[dr.TraceExt]||{},i[dr.CloudExt]=i[dr.CloudExt]||{},a.applyApplicationContext(e),a.applyUserContext(e),a.applyWebContext(e),a.applyOsContext(e),a.applySdkContext(e),a.applyIntWebContext(e),a.applyUtcContext(e),a.applyLocContext(e),a.applySessionContext(e),a.applyDeviceContext(e),a.applyAITraceContext(e),a.applyCloudContext(e),ve(Se(i),function(e){0===Se(i[e]).length&&delete i[e]}),n=e.data,o&&oe(o,function(e,t){n[e]||(n[e]=t)}),r.processNext(e,t)},r.getPropertiesContext=function(){return a},r.setProperty=function(e,t){o[e]=t}}),i}var Rr="REAL_TIME",Lr="NEAR_REAL_TIME",Or="BEST_EFFORT",Mr=(Vr.create=function(e,t){return new Vr(e,t)},Vr);function Vr(r,e){var a=e?[].concat(e):[];(e=this).iKey=function(){return r},e.count=function(){return a.length},e.events=function(){return a},e.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(a=t?a.concat(e):e.concat(a),e.length):0},e.split=function(e,t){var n,i=new Vr(r);return e<a.length&&(n=a.length-e,$(t)||(n=t<n?t:n),i.addEvents(a.splice(e,n),!0)),i}}var Ur="metadata",Br=/\./,Fr=function Vs(t,e,I,n){var a="baseData",T=!!n,C=e,E={};W(Vs,this,function(m){function y(e,p,d,g,h,m,v){oe(e,function(e,t){var n=null;if(t||Wn(t)){var i,r=d,a=e,o=h,s=p;if(T&&!g&&Br.test(e)){var c=e.split("."),l=c.length;if(1<l){for(var o=o&&o.slice(),u=0;u<l-1;u++){var f=c[u],s=s[f]=s[f]||{};r+="."+f,o&&o.push(f)}a=c[l-1]}}(n=g&&((i=E[e=r])===undefined&&(7<=e.length&&(i=ce(e,"ext.metadata")||ce(e,"ext.web")),E[e]=i),i)||!C||!C.handleField(r,a)?Xn(a,t,I):C.value(r,a,t,I))&&(i=n.value,s[a]=i,m&&m(o,a,n),v&&"object"==typeof i&&!fe(i)&&((n=o)&&(n=n.slice()).push(a),y(t,i,r+"."+a,g,n,m,v)))}})}m.createPayload=function(e,t,n,i){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i}},m.appendPayload=function(d,g,h){var e=d&&g&&!d.overflow;return e&&Ct(t,function(){return"Serializer:appendPayload"},function(){for(var e=g.events(),t=d.payloadBlob,n=d.numEvents,i=!1,r=[],a=d.isBeacon,o=a?65e3:3984588,s=a?65e3:2e6,c=0,l=0;c<e.length;){var u=e[c];if(u){if(h<=n){d.overflow=g.split(c);break}var f=m.getEventBlob(u);if(f.length<=s){var p=f.length;if(o<t.length+p){d.overflow=g.split(c);break}t&&(t+="\n"),t+=f,20<++l&&(t.substr(0,1),l=0),i=!0,n++}else r.push(u),e.splice(c,1),c--}c++}r&&0<r.length&&d.sizeExceed.push(Mr.create(g.iKey(),r)),i&&(d.batches.push(g),d.payloadBlob=t,d.numEvents=n,a=g.iKey(),-1===ye(d.apiKeys,a)&&d.apiKeys.push(a))},function(){return{payload:d,theBatch:{iKey:g.iKey(),evts:g.events()},max:h}}),e},m.getEventBlob=function(r){return Ct(t,function(){return"Serializer.getEventBlob"},function(){var e={};e.name=r.name,e.time=r.time,e.ver=r.ver,e.iKey="o:"+Gn(r.iKey);var i={},t=r.ext;t&&(e.ext=i,oe(t,function(e,t){y(t,i[e]={},"ext."+e,!0,null,null,!0)}));var n=e.data={};return n.baseType=r.baseType,t=n[a]={},y(r.baseData,t,a,!1,[a],function(e,t,n){zr(i,e,t,n)},!0),y(r.data,n,"data",!1,[],function(e,t,n){zr(i,e,t,n)},!0),JSON.stringify(e)},function(){return{item:r}})}})};function zr(e,t,n,i){if(i&&e){var r=Yn(i.value,i.kind,i.propertyType);if(-1<r){var a=e[Ur],o=(o=(a=a||(e[Ur]={f:{}})).f)||(a.f={});if(t)for(var s=0;s<t.length;s++){var c=t[s];o[c]||(o[c]={f:{}});o=o[c].f||(o[c].f={})}o=o[n]={},fe(i.value)?o.a={t:r}:o.t=r}}}var Hr=(Wr.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},Wr.getMillisToBackoffForRetry=function(e){var t=2400+Math.floor(1200*Math.random());return Math.min(Math.pow(2,e)*t,6e5)},Wr);function Wr(){}var Gr=function Us(){var c={};W(Us,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=(a=e.split(","),o=[],a&&ve(a,function(e){o.push(Ce(e))}),o);if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)c[n[r]]=Ae()+i}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c;return t[e=Ce(e)]!==undefined&&t[e]>Ae()||(delete t[e],!1)}})},Kr=function Bs(){var t=!0,n=!0,i=!0,r="use-collector-delta",a=!1;W(Bs,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){a||(e?(r=e,a=n=!0):n=!1,t=!0)}})},qr="POST",Xr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",jr="drop",Yr="kill-duration",Jr="time-delta-millis",Qr=((gn={})[1]=Ma="requeue",gn[100]=Ma,gn[200]="sent",gn[8004]=jr,gn[8003]=jr,gn);function Zr(e){try{return e.responseText}catch(t){}return""}var $r,ea=function Fs(g,e,S,u){this._responseHandlers=[];var b,A,w,_,x="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+Vn,P=new Gr,D=!1,k=new Kr,R=!1,L=0,O=!0,M=[],V={},U=[],B=null,F=!1;W(Fs,this,function(h){var s=!0;function a(e,t){var n=new XDomainRequest;n.open(qr,e.urlString),n.onload=function(){var e=Zr(n);m(t,200,{},e),l(e)},n.onerror=function(){m(t,400,{})},n.ontimeout=function(){m(t,500,{})},n.send(e.data)}function o(e,i){var t;fetch(e.urlString,((t={body:e.data,method:qr,credentials:"include"})[Xr]=!0,t.headers=e.headers,t)).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),m(i,e.status,n,t),l(t)})["catch"](function(e){m(i,0,{})})}function c(e,a,t){function o(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=Ce(t)),e}function n(e,t){var n,i,r;m(a,e.status,(r={},(n=e).getAllResponseHeaders?(e=n.getAllResponseHeaders(),i={},de(e)&&ve(Ce(e).split(/[\r\n]+/),function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Ce(e.substring(0,n)).toLowerCase(),n=Ce(e.substring(1+n)),i[t]=n):i[Ce(e)]=1)}),i):(r=o(r,n,Jr),r=o(r,n,Yr),o(r,n,"kill-duration-seconds"))),t)}var i=new XMLHttpRequest;try{i[Xr]=!0}catch(r){}s&&(i.withCredentials=!0),i.open(qr,e.urlString,!t),oe(e.headers,function(e,t){i.setRequestHeader(e,t)}),i.onload=function(){var e=Zr(i);n(i,e),l(e)},i.onerror=function(){n(i)},i.ontimeout=function(){n(i)},i.send(e.data)}function m(e,t,n,i){try{e(t,n,i)}catch(r){b.diagLog().throwInternal(z.WARNING,Mn.SendPostOnCompleteFailure,r)}}function i(){return!D&&L<e}function r(){var e=U;return U=[],e}function f(e,t,n){return e&&0<e.length&&!D&&A&&B&&(t||i()&&(0<n||k.allowRequestSending()))}function p(e){var n={};return e&&ve(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function v(a,o,s,c,l,u){var e;a&&0!==a.length&&(D?N(a,1,c):(e=a,Ct(w,function(){return"HttpManager:_sendBatches"},function(e){e&&(a=a.slice(0));for(var t=[],n=null,i=ei();f(a,c,o);){var r=a.shift();r&&0<r.count()&&(P.isTenantKilled(r.iKey())?t.push(r):(n=n||B.createPayload(o,s,c,u&&y()),B.appendPayload(n,r,g)?null!==n.overflow&&(a=[n.overflow].concat(a),n.overflow=null,d(n,i,ei(),l),i=ei(),n=null):(d(n,i,ei(),l),i=ei(),a=[r].concat(a),n=null)))}n&&d(n,i,ei(),l),0<a.length&&(U=a.concat(U)),N(t,8004,c)},function(){return{batches:p(e),retryCount:o,isTeardown:s,isSynchronous:c,sendReason:l,useSendBeacon:u}},!c)))}function y(){return!O&&R&&Kn()}function I(e,t,n){e[t]=e[t]||{},e[t][b.identifier]=n}function d(c,l,u,f){var p,d,g;c&&c.payloadBlob&&0<c.payloadBlob.length&&(p=function(e){var t=x,n="";ve(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+Ae().toString(),e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(Wn(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e),Wn(e)&&(t=t+"&ext.intweb.msfpc="+e),k.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+k.getClockSkewHeaderValue()),!w.getWParam||0<=(e=w.getWParam())&&(t+="&w="+e);for(var i=0;i<M.length;i++)t+="&"+M[i].name+"="+M[i].value;return t}(c),d=ei(),g="sendAttempt",Ct(w,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<c.batches.length;e++)for(var t=c.batches[e].events(),n=0;n<t.length;n++){var i,r=t[n];F&&(I(i=r.timings=r.timings||{},"sendEventStart",d),I(i,"serializationStart",l),I(i,"serializationCompleted",u)),0<r[g]?r[g]++:r[g]=1}N(c.batches,1e3+(f||0),c.isSync,!0);var a={data:c.payloadBlob,urlString:p,headers:V},o=null,s=!!h.sendHook;y()&&c.isBeacon?(s=!1,o=function(e){T(e,c,f),h.sendListener&&h.sendListener(a,e,c.isSync||c.isTeardown,!0)}):A&&(o=function(e){k.firstRequestSent();var t=function(e,t){!function(e,t,n,i){var r=9e3,a=null,o=!1,s=!1;try{var c,l,u=!0;if(typeof e!==Le){if(t&&(k.setClockSkew(t[Jr]),c=t[Yr]||t["kill-duration-seconds"],ve(P.setKillSwitchTenants(t["kill-tokens"],c),function(t){ve(n.batches,function(e){e.iKey()===t&&(a=a||[],e=e.split(0),n.numEvents-=e.count(),a.push(e))})})),200===e)return r=200;(!Hr.shouldRetryForStatus(e)||n.numEvents<=0)&&(u=!1),r=9e3+e%1e3}u&&(r=100,l=n.retryCnt,n.isSync||(l<S?E(function(){n.isSync||L--,v(n.batches,l+1,n.isTeardown,n.isSync,5,n.isBeacon)},o=!0,Hr.getMillisToBackoffForRetry(l)):s=!0))}finally{o||(k.setClockSkew(),C(n,r,i,s)),N(a,8004,n.isSync)}}(e,t,c,f)};try{A.sendPOST(e,t,c.isTeardown||c.isSync),h.sendListener&&h.sendListener(a,e,c.isSync||c.isTeardown,!1)}catch(n){m(t,0,{})}}),Ct(w,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;o&&(c.isSync||L++,s?(n=!(t={data:a.data,urlString:a.urlString,headers:a.headers}),Ct(w,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{h.sendHook(t,function(e){n=!0,o(e)},c.isSync||c.isTeardown)}catch(e){n||o(a)}})):o(a))})},function(){return{thePayload:c,serializationStart:l,serializationCompleted:u,sendReason:f}},c.isSync)),N(c.sizeExceed,8003,c.isSync)}function T(e,t,n){try{if(Kn()){if(it().sendBeacon(e.urlString,e.data))return C(t,200,n,!1),0;var i=null;ve(t.batches,function(e){i.push(e.split(0))}),C(t,200,n,!1),N(i,8003,t.isSync,!0)}}catch(r){b.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+r)}}function C(e,t,n,i){try{i&&b._backOffTransmission(),200===t&&(i||e.isSync||b._clearBackOff(),r=e.batches,F&&(a=ei(),ve(r,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,F&&ve(e,function(e){I(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),N(e.batches,t,e.isSync,!0)}finally{e.isSync||(L--,5!==n&&h.sendQueuedRequests(n,!e.isSync,e.isBeacon))}var r,a}function E(e,t,n){t?e():b._setTimeoutOverride(e,n)}function l(e){var t=h._responseHandlers;try{for(var n,i=0;i<t.length;i++)try{t[i](e)}catch(r){b.diagLog().throwInternal(z.CRITICAL,Mn.PostResponseHandler,"Response handler failed: "+r)}!e||Wn((n=JSON.parse(e)).webResult)&&Wn(n.webResult.msfpc)&&_.set("MSFPC",n.webResult.msfpc,31536e3)}catch(a){}}function N(t,n,i,e){var r,a;t&&0<t.length&&u&&(r=u[Wn(a=Qr[n])||(a="oth",9e3<=n&&n<=9999?a="rspFail":8e3<=n&&n<=8999?a=jr:1e3<=n&&n<=1999&&(a="send")),a])&&Ct(w,function(){return"HttpManager:_sendBatchesNotification"},function(){E(function(){try{r.call(u,t,n,i)}catch(e){b.diagLog().throwInternal(z.CRITICAL,Mn.NotificationException,"send request notification failed: "+e)}},e||i,0)},function(){return{batches:p(t),reason:n,isSync:i,sendSync:e}},!i)}h.initialize=function(e,t,n,i,r){r=r||{},x=e+x,_=(w=t).getCookieMgr(),F=!w.config.disableEventTimings,e=!!w.config.enableCompoundKey,b=n,t=r.valueSanitizer,n=r.stringifyObjects,Z(r.enableCompoundKey)||(e=!!r.enableCompoundKey),B=new Fr(w,t,n,e),(A=i)||(O=!1,R=!ct(),(i=rt())&&i.protocol&&"file:"==i.protocol.toLowerCase()&&(s=!1),i=null,jn()?i=a:ct()?i=o:"undefined"!=typeof XMLHttpRequest&&(i=c),A={sendPOST:i})},h._getDbgPlgTargets=function(){return[A,P,B]},h.addQueryStringParameter=function(e,t){for(var n=0;n<M.length;n++)if(M[n].name===e)return void(M[n].value=t);M.push({name:e,value:t})},h.addHeader=function(e,t){V[e]=t},h.canSendRequest=function(){return i()&&k.allowRequestSending()},h.sendQueuedRequests=function(e,t,n){t=!$(t)&&!t,f(U,t,0)&&v(r(),0,!1,t,e||0,!!n)},h.isCompletelyIdle=function(){return!D&&0===L&&0===U.length},h.addBatch=function(e){if(e&&0<e.count()){if(P.isTenantKilled(e.iKey()))return!1;U.push(e)}return!0},h.teardown=function(){0<U.length&&v(r(),0,!0,!0,2,!0)},h.pause=function(){D=!0},h.resume=function(){D=!1,h.sendQueuedRequests(4,!1)},h.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&v([e],0,!1,!0,t||0,!!n)}})},ta=.25,na=500,ia=20,ra=6,aa=4,oa=Hn?window:undefined,sa=2,ca=1,la="eventsDiscarded",ua="overrideInstrumentationKey",fa=(u(pa,$r=wt),pa);function pa(){var T,e=$r.call(this)||this;e.identifier="PostChannel",e.priority=1011;var C,E,N,S,b,A=!(e.version="3.1.1"),w=[],_=null,x=!1,P=0,D=500,k=0,R=1e4,L={},n=Rr,O=null,M=null,V=0,U=0,B={},F=-1;return W(pa,e,function(o,s){function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=Ln.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.ext=Re(e.ext),e.baseData&&(e.baseData=Re(e.baseData)),e.data&&(e.data=Re(e.data)),e.sync)if(V||x)e.latency=Ln.RealTime,e.sync=!1;else if(E)return e=Re(e),E.sendSynchronousBatch(Mr.create(e.iKey,[e]),3),0;var n=e.latency,i=k,r=R;n===Ln.Immediate&&(i=P,r=D);var a=!1;i<r?a=!d(e,t):(i=Ln.Normal,r=ia,n===Ln.Immediate&&(i=Ln.Immediate,r=1),a=!0,function(e,t,n,i){for(;n<=t;){if((r=f(e,t,!0))&&0<r.count()){var r,a=r.split(0,i);if(0<(r=a.count()))return n===Ln.Immediate?P-=r:k-=r,y(la,[a],H.QueueFull),1}n++}return g(),0}(e.iKey,e.latency,i,r)&&(a=!d(e,t))),a&&v(la,[e],H.QueueFull)}function a(e,t,n,i){return e=h(e,t,n),E.sendQueuedRequests(t,n,i),e}function c(){0<=F&&h(F,b,!0)&&E.sendQueuedRequests(b,!0,!1),!(0<P)||M||x||0<=(e=L[n][2])&&(M=l(function(){M=null,a(Ln.Immediate,1,!0),c()},e));var e=L[n][1];!O&&!_&&0<=e&&!x&&(0<k?O=l(function(){O=null,a(0===U?Ln.RealTime:Ln.Normal,1,!0),U++,U%=2,c()},e):U=0)}function l(e,t){0===t&&V&&(t=1);var n=1e3;return V&&(n=Hr.getMillisToBackoffForRetry(V-1)),o._setTimeoutOverride(e,t*n)}function i(){null!==O&&(o._clearTimeoutOverride(O),O=null,U=0)}function u(e,t){i(),_&&(o._clearTimeoutOverride(_),_=null),x||a(Ln.Normal,e,t,!0)}function f(e,t,n){var i=B[t];return i||(t=Ln.Normal,i=B[t]),!(t=i.iKeyMap[e])&&n&&(t=Mr.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function p(e,t){E.canSendRequest()&&!V&&(t=0<N&&N<k||t)&&null==_&&o.flush(e,null,20)}function d(e,t){var n=(e=Re(e)).latency,i=f(e.iKey,n,!0);return i.addEvents([e],t)&&(n!==Ln.Immediate?(k++,t&&0===e.sendAttempt&&p(!e.sync,0<S&&i.count()>=S)):P++,1)}function g(){for(var n=0,i=0,e=Ln.Normal;e<=Ln.Immediate;e++)!function(t){var e=B[t];e&&e.batches&&ve(e.batches,function(e){t===Ln.Immediate?n+=e.count():i+=e.count()})}(e);k=i,P=n}function h(i,e,t){var r=!1;return!t||E.canSendRequest()?Ct(o.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=Ln.Immediate;i<=n;){var e=B[n];e&&e.batches&&(ve(e.batches,function(e){E.addBatch(e)?r=r||e&&0<e.count():t=t.concat(e.events()),n===Ln.Immediate?P-=e.count():k-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&v(la,t,H.KillSwitch),r&&i<=F&&(F=-1,b=0)},function(){return{latency:i,sendReason:e}},t):(F=0<=F?Math.min(F,i):i,b=Math.max(b,e)),r}function t(){(L={})[Rr]=[2,1,0],L[Lr]=[6,3,0],L[Or]=[18,9,0]}function m(e,t){var n=o._notificationManager||{},i=n[e];if(i)try{i.apply(n,t)}catch(r){o.diagLog().throwInternal(z.CRITICAL,Mn.NotificationException,e+" notification failed: "+r)}}function v(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&m(e,[t].concat(n))}function y(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&0<e.length&&ve(e,function(e){e&&0<e.count()&&m(t,[e.events()].concat(n))})}function I(){S=T&&T.disableAutoBatchFlushLimit?0:Math.max(na*(sa+1),R/6)}t(),B[Ln.Immediate]={batches:[],iKeyMap:{}},B[Ln.RealTime]={batches:[],iKeyMap:{}},B[Ln.CostDeferred]={batches:[],iKeyMap:{}},B[Ln.Normal]={batches:[],iKeyMap:{}},I(),E=new ea(na,sa,ca,{requeue:function(e,t){var n=[];ve(e,function(e){e&&0<e.count()&&ve(e.events(),function(e){e&&(e.sync&&(e.latency=Ln.RealTime,e.sync=!1),e.sendAttempt<ra?(ri(e,o.identifier),r(e,!1)):n.push(e))})}),0<n.length&&v(la,n,H.NonRetryableStatus)},send:function(e,t,n){e&&0<e.length&&m("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){y("eventsSent",e,t),c()},drop:function(e,t){y(la,e,8e3<=t&&t<=8999?t-8e3:H.Unknown)},rspFail:function(e){y(la,e,H.NonRetryableStatus),c()},oth:function(e,t){y(la,e,H.Unknown),c()}}),o._getDbgPlgTargets=function(){return[E]},o.initialize=function(i,r,a){Ct(r,function(){return"PostChannel:initialize"},function(){var e=r;s.initialize(i,r,a),o.setInitialized(!1);var t=o._getTelCtx();i.extensionConfig[o.identifier]=i.extensionConfig[o.identifier]||{},T=t.getExtCfg(o.identifier),o._setTimeoutOverride=T.setTimeoutOverride||setTimeout.bind(oa),o._clearTimeoutOverride=T.clearTimeoutOverride||clearTimeout.bind(oa);var n=e.getWParam;e.getWParam=function(){var e=0;return T.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()},0<T.eventsLimitInMem&&(R=T.eventsLimitInMem),0<T.immediateEventLimit&&(D=T.immediateEventLimit),0<T.autoFlushEventsLimit&&(N=T.autoFlushEventsLimit),I(),T.httpXHROverride&&T.httpXHROverride.sendPOST&&(C=T.httpXHROverride),Wn(i.anonCookieName)&&E.addQueryStringParameter("anoncknm",i.anonCookieName),E.sendHook=T.payloadPreprocessor,E.sendListener=T.payloadListener,e=T.overrideEndpointUrl||i.endpointUrl,o._notificationManager=i.extensionConfig.NotificationManager,E.initialize(e,o.core,o,C,T),ii(function(){u(2,!1)}),o.setInitialized(!0)},function(){return{coreConfig:i,core:r,extensions:a}})},o.processTelemetry=function(e,t){ri(e,o.identifier);var n=(t=o._getTelCtx(t)).getExtCfg(o.identifier),i=!!T.disableTelemetry,e=e;(i=n?i||!!n.disableTelemetry:i)||A||(T[ua]&&(e.iKey=T[ua]),n&&n[ua]&&(e.iKey=n[ua]),r(e,!0),c()),o.processNext(e,t)},o.setEventQueueLimits=function(e,t){R=0<e?e:1e4,N=0<t?t:0,I();var n=e<k;if(!n&&0<S)for(var i=Ln.Normal;!n&&i<=Ln.RealTime;i++){var r=B[i];r&&r.batches&&ve(r.batches,function(e){e&&e.count()>=S&&(n=!0)})}p(!0,n)},o.teardown=function(){u(2,!1),A=!0,E.teardown()},o.pause=function(){i(),x=!0,E.pause()},o.resume=function(){x=!1,E.resume(),c()},o.addResponseHandler=function(e){E._responseHandlers.push(e)},o._loadTransmitProfiles=function(e){i(),t(),n=Rr,c(),oe(e,function(e,t){var n,i=t.length;2<=i&&(n=2<i?t[2]:0,t.splice(0,i-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(i=t[0]/t[1],t[0]=Math.ceil(i)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),L[e]=t)})},o.flush=function(e,t,n){void 0===e&&(e=!0),x||(i(),n=n||1,e?(h(Ln.Normal,n,e),g(),null==_?_=l(function(){!function i(e,t){a(Ln.Normal,t,!0),function n(e){E.isCompletelyIdle()?e():_=l(function(){n(e)},ta)}(function(){e&&e(),0<w.length?_=l(function(){return i(w.shift(),t)},0):(_=null,0<k&&c())})}(t,n)},0):w.push(t)):(a(Ln.Normal,n,!1),null!==t&&t!==undefined&&t()))},o.setMsaAuthTicket=function(e){E.addHeader("AuthMsaDeviceTicket",e)},o.hasEvents=function(){return 0<k},o._setTransmitProfile=function(e){n!==e&&L[e]!==undefined&&(i(),n=e,c())},o._backOffTransmission=function(){V<aa&&(V++,i(),c())},o._clearBackOff=function(){V&&(V=0,i(),c())}}),e}var da=(ga.sanitizeKeyAndAddUniqueness=function(e,t,n){var i=t.length,r=ga.sanitizeKey(e,t);if(r.length!==i){for(var a=0,o=r;n[o]!==undefined;)a++,o=r.substring(0,ga.MAX_NAME_LENGTH-3)+ga.padNumber(a);r=o}return r},ga.sanitizeKey=function(e,t){var n;return t&&(t=ga.trim(t.toString())).length>ga.MAX_NAME_LENGTH&&(n=t.substring(0,ga.MAX_NAME_LENGTH),e.throwInternal(z.WARNING,V.NameTooLong,"name is too long.  It has been truncated to "+ga.MAX_NAME_LENGTH+" characters.",{name:t},!0)),n||t},ga.sanitizeString=function(e,t,n){var i;return void 0===n&&(n=ga.MAX_STRING_LENGTH),t&&(n=n||ga.MAX_STRING_LENGTH,(t=ga.trim(t)).toString().length>n&&(i=t.toString().substring(0,n),e.throwInternal(z.WARNING,V.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t},ga.sanitizeUrl=function(e,t){return ga.sanitizeInput(e,t,ga.MAX_URL_LENGTH,V.UrlTooLong)},ga.sanitizeMessage=function(e,t){var n;return t&&t.length>ga.MAX_MESSAGE_LENGTH&&(n=t.substring(0,ga.MAX_MESSAGE_LENGTH),e.throwInternal(z.WARNING,V.MessageTruncated,"message is too long, it has been truncated to "+ga.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),n||t},ga.sanitizeException=function(e,t){var n;return t&&t.length>ga.MAX_EXCEPTION_LENGTH&&(n=t.substring(0,ga.MAX_EXCEPTION_LENGTH),e.throwInternal(z.WARNING,V.ExceptionTruncated,"exception is too long, it has been truncated to "+ga.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),n||t},ga.sanitizeProperties=function(i,e){var r;return e&&(r={},oe(e,function(e,t){if(ne(t)&&ot())try{t=st().stringify(t)}catch(n){i.throwInternal(z.WARNING,V.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=ga.sanitizeString(i,t,ga.MAX_PROPERTY_LENGTH),e=ga.sanitizeKeyAndAddUniqueness(i,e,r),r[e]=t}),e=r),e},ga.sanitizeMeasurements=function(n,e){var i;return e&&(i={},oe(e,function(e,t){e=ga.sanitizeKeyAndAddUniqueness(n,e,i),i[e]=t}),e=i),e},ga.sanitizeId=function(e,t){return t&&ga.sanitizeInput(e,t,ga.MAX_ID_LENGTH,V.IdTooLong).toString()},ga.sanitizeInput=function(e,t,n,i){var r;return t&&(t=ga.trim(t)).length>n&&(r=t.substring(0,n),e.throwInternal(z.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t},ga.padNumber=function(e){return(e="00"+e).substr(e.length-3)},ga.trim=function(e){return de(e)?e.replace(/^\s+|\s+$/g,""):e},ga.MAX_NAME_LENGTH=150,ga.MAX_ID_LENGTH=128,ga.MAX_PROPERTY_LENGTH=8192,ga.MAX_STRING_LENGTH=1024,ga.MAX_URL_LENGTH=2048,ga.MAX_MESSAGE_LENGTH=32768,ga.MAX_EXCEPTION_LENGTH=32768,ga);function ga(){}function ha(e){var t,n=null;return ie(Event)?n=new Event(e):(t=tt())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function ma(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function va(e){var t=""+(e=Math.round(e=isNaN(e)||e<0?0:e))%1e3,n=""+Math.floor(e/1e3)%60,i=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i;return(0<(e=Math.floor(e/864e5))?e+".":"")+(r=r.length<2?"0"+r:r)+":"+i+":"+n+"."+t}var ya,Ia,Ta="not_specified";(eo=ya=ya||{})[eo.LocalStorage=0]="LocalStorage",eo[eo.SessionStorage=1]="SessionStorage",(Ma=Ia=Ia||{})[Ma.Default=0]="Default",Ma[Ma.Required=1]="Required",Ma[Ma.Array=2]="Array",Ma[Ma.Hidden=4]="Hidden",(gn={})[gn.AI=0]="AI",gn[gn.AI_AND_W3C=1]="AI_AND_W3C",gn[gn.W3C=2]="W3C";var Ca=undefined;function Ea(e){try{if($(Qe()))return null;var t=new Date,n=Ze(e===ya.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var i=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!i)return n}catch(r){}return null}function Na(){return Sa()?Ea(ya.SessionStorage):null}function Sa(){return Ca=Ca===undefined?!!Ea(ya.SessionStorage):Ca}function ba(e,t){var n=Na();if(null!==n)try{return n.getItem(t)}catch(i){Ca=!1,e.throwInternal(z.WARNING,V.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+we(i),{exception:ut(i)})}return null}function Aa(e,t,n){var i=Na();if(null!==i)try{return i.setItem(t,n),1}catch(r){Ca=!1,e.throwInternal(z.WARNING,V.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+we(r),{exception:ut(r)})}}function wa(e,t){var n=Na();if(null!==n)try{return n.removeItem(t),1}catch(i){Ca=!1,e.throwInternal(z.WARNING,V.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+we(i),{exception:ut(i)})}}var _a=tt()||{},xa=0,Pa=[null,null,null,null,null];function Da(e,t){return 0===e||0===t||$(e)||$(t)?null:t-e}var ka,Ra=(ka=eo=function(){this.ver=2,this.properties={},this.measurements={}},__extends(La,ka),La.envelopeType="Microsoft.ApplicationInsights.{0}.Event",La.dataType="EventData",La);function La(e,t,n,i){var r=ka.call(this)||this;return r.aiDataContract={ver:Ia.Required,name:Ia.Required,properties:Ia.Default,measurements:Ia.Default},r.name=da.sanitizeString(e,t)||Ta,r.properties=da.sanitizeProperties(e,n),r.measurements=da.sanitizeMeasurements(e,i),r}var Oa,Ma=function(){},gn=function(){this.hasFullStack=!0,this.parsedStack=[]},Va="error",Ua=(Oa=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}},__extends(Ba,Oa),Ba.CreateFromInterface=function(t,e,n,i){var r=e.exceptions&&Ie(e.exceptions,function(e){return za.CreateFromInterface(t,e)});return new Ba(t,__assign({},e,{exceptions:r}),n,i)},Ba.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,i=this.severityLevel;this.ver;var r=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&Ie(e,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:t,measurements:n,problemGroup:r,id:a,isManual:o}},Ba.CreateSimpleException=function(e,t,n,i,r,a){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},Ba.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Ba.dataType="ExceptionData",Ba);function Ba(e,t,n,i,r,a){var o,s=Oa.call(this)||this;return s.aiDataContract={ver:Ia.Required,exceptions:Ia.Required,severityLevel:Ia.Default,properties:Ia.Default,measurements:Ia.Default},"ver"in(o=t)&&"exceptions"in o&&"properties"in o?(s.exceptions=t.exceptions,s.properties=t.properties,s.measurements=t.measurements,t.severityLevel&&(s.severityLevel=t.severityLevel),t.id&&(s.id=t.id),t.problemGroup&&(s.problemGroup=t.problemGroup),s.ver=2,$(t.isManual)||(s.isManual=t.isManual)):(s.exceptions=[new za(e,t)],s.properties=da.sanitizeProperties(e,n)||{},s.measurements=da.sanitizeMeasurements(e,i),r&&(s.severityLevel=r),a&&(s.id=a)),s}var Fa,za=(Fa=gn,__extends(Ha,Fa),Ha.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&Ie(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||undefined}},Ha.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&Ie(t.parsedStack,function(e){return Ga.CreateFromInterface(e)})||t.parsedStack;return new Ha(e,__assign({},t,{parsedStack:n}))},Ha.parseStack=function(e){if(de(e)){for(var t=e.split("\n"),n=[],i=0,r=0,a=0;a<=t.length;a++){var o=t[a];Ga.regex.test(o)&&(r+=(o=new Ga(t[a],i++)).sizeInBytes,n.push(o))}if(32768<r)for(var s=0,c=n.length-1,l=0,u=s,f=c;s<c;){if(32768<(l+=n[s].sizeInBytes+n[c].sizeInBytes)){n.splice(u,f-u+1);break}u=s,f=c,s++,c--}}return n},Ha);function Ha(e,t){var n,i=Fa.call(this)||this;return i.aiDataContract={id:Ia.Default,outerId:Ia.Default,typeName:Ia.Required,message:Ia.Required,hasFullStack:Ia.Default,stack:Ia.Default,parsedStack:Ia.Array},"hasFullStack"in(n=t)&&"typeName"in n?(i.typeName=t.typeName,i.message=t.message,i.stack=t.stack,i.parsedStack=t.parsedStack,i.hasFullStack=t.hasFullStack):(pe(n=t)||(n=n[Va]||n.evt||n),i.typeName=da.sanitizeString(e,function(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(i){}return t}(n))||Ta,i.message=da.sanitizeMessage(e,t.message)||Ta,t=t.stack,i.parsedStack=Ha.parseStack(t),i.stack=da.sanitizeException(e,t),i.hasFullStack=fe(i.parsedStack)&&0<i.parsedStack.length),i}var Wa,Ga=(Wa=Ma,__extends(Ka,Wa),Ka.CreateFromInterface=function(e){return new Ka(e,null)},Ka.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},Ka.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,Ka.baseSize=58,Ka);function Ka(e,t){var n,i=Wa.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:Ia.Required,method:Ia.Required,assembly:Ia.Default,fileName:Ia.Default,line:Ia.Default},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=Ce(n),i.fileName="",i.line=0,(n=n.match(Ka.regex))&&5<=n.length&&(i.method=Ce(n[2])||i.method,i.fileName=Ce(n[4]),i.line=parseInt(n[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=Ka.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var qa,gn=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};(Ma=qa={})[Ma.Measurement=0]="Measurement",Ma[Ma.Aggregation=1]="Aggregation";var Xa,ja=(Xa=function(){this.kind=qa.Measurement},__extends(Ya,Xa),Ya);function Ya(){var e=Xa.apply(this,arguments)||this;return e.aiDataContract={name:Ia.Required,kind:Ia.Default,value:Ia.Required,count:Ia.Default,min:Ia.Default,max:Ia.Default,stdDev:Ia.Default},e}var Ja,Qa=(Ja=gn,__extends(Za,Ja),Za.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Za.dataType="MetricData",Za);function Za(e,t,n,i,r,a,o,s){var c=Ja.call(this)||this;c.aiDataContract={ver:Ia.Required,metrics:Ia.Required,properties:Ia.Default};var l=new ja;return l.count=0<i?i:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(r)||null===r?undefined:r,l.name=da.sanitizeString(e,t)||Ta,l.value=n,c.metrics=[l],c.properties=da.sanitizeProperties(e,o),c.measurements=da.sanitizeMeasurements(e,s),c}var $a,eo=($a=eo,__extends(to,$a),to);function to(){var e=$a.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var no,io=(no=eo,__extends(ro,no),ro.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",ro.dataType="PageviewData",ro);function ro(e,t,n,i,r,a,o){var s=no.call(this)||this;return s.aiDataContract={ver:Ia.Required,name:Ia.Default,url:Ia.Default,duration:Ia.Default,properties:Ia.Default,measurements:Ia.Default,id:Ia.Default},s.id=da.sanitizeId(e,o),s.url=da.sanitizeUrl(e,n),s.name=da.sanitizeString(e,t)||Ta,isNaN(i)||(s.duration=va(i)),s.properties=da.sanitizeProperties(e,r),s.measurements=da.sanitizeMeasurements(e,a),s}var ao,oo=(ao=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}},__extends(so,ao),so.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",so.dataType="RemoteDependencyData",so);function so(e,t,n,i,r,a,o,s,c,l,u,f){void 0===c&&(c="Ajax");var p=ao.call(this)||this;p.aiDataContract={id:Ia.Required,ver:Ia.Required,name:Ia.Default,resultCode:Ia.Default,duration:Ia.Default,success:Ia.Default,data:Ia.Default,target:Ia.Default,type:Ia.Default,properties:Ia.Default,measurements:Ia.Default,kind:Ia.Default,value:Ia.Default,count:Ia.Default,min:Ia.Default,max:Ia.Default,stdDev:Ia.Default,dependencyKind:Ia.Default,dependencySource:Ia.Default,commandName:Ia.Default,dependencyTypeName:Ia.Default},p.id=t,p.duration=va(r),p.success=a,p.resultCode=o+"",p.type=da.sanitizeString(e,c);var d,g,h,m,v,y,I,T,C,E,o=(d=e,t=s,o=a=r=i,a=(c=n)&&0<c.length?(g=c,E=(C=Pa)[T=xa],_a.createElement?C[T]||(E=C[T]=_a.createElement("a")):E={host:(y=!0,I=null,!(v=h=g)||null!=(v=v.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<v.length&&de(v[2])&&0<v[2].length&&(I=v[2]||"",y&&2<v.length&&(y=(v[1]||"").toLowerCase(),v=v[3]||"",I+=v="http"==y&&":80"===v||"https"==y&&":443"===v?"":v)),(h=I)&&null!=(m=h.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<m.length&&de(m[2])&&0<m[2].length?m[2]+(m[3]||""):h)},E.href=g,++T>=C.length&&(T=0),xa=T,E=(s=E).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,da.sanitizeString(d,t?t+" "+n:n)):da.sanitizeString(d,c))):E=r,{target:E,name:a,data:o});return p.data=da.sanitizeUrl(e,i)||o.data,p.target=da.sanitizeString(e,o.target),l&&(p.target=p.target+" | "+l),p.name=da.sanitizeString(e,o.name),p.properties=da.sanitizeProperties(e,u),p.measurements=da.sanitizeMeasurements(e,f),p}var co,lo=(co=function(){this.ver=2,this.properties={},this.measurements={}},__extends(uo,co),uo.envelopeType="Microsoft.ApplicationInsights.{0}.Message",uo.dataType="MessageData",uo);function uo(e,t,n,i,r){var a=co.call(this)||this;return a.aiDataContract={ver:Ia.Required,message:Ia.Required,severityLevel:Ia.Default,properties:Ia.Default},a.message=da.sanitizeMessage(e,t=t||Ta),a.properties=da.sanitizeProperties(e,i),a.measurements=da.sanitizeMeasurements(e,r),n&&(a.severityLevel=n),a}var fo,eo=(fo=eo,__extends(po,fo),po);function po(){var e=fo.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var go,ho,mo=(go=eo,__extends(vo,go),vo.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",vo.dataType="PageviewPerformanceData",vo);function vo(e,t,n,i,r,a,o){var s=go.call(this)||this;return s.aiDataContract={ver:Ia.Required,name:Ia.Default,url:Ia.Default,duration:Ia.Default,perfTotal:Ia.Default,networkConnect:Ia.Default,sentRequest:Ia.Default,receivedResponse:Ia.Default,domProcessing:Ia.Default,properties:Ia.Default,measurements:Ia.Default},s.url=da.sanitizeUrl(e,n),s.name=da.sanitizeString(e,t)||Ta,s.properties=da.sanitizeProperties(e,r),s.measurements=da.sanitizeMeasurements(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(eo=ho=ho||{})[eo.Verbose=0]="Verbose",eo[eo.Information=1]="Information",eo[eo.Warning=2]="Warning",eo[eo.Error=3]="Error",eo[eo.Critical=4]="Critical";var yo=(Io.create=function(e,t,n,i,r,a){if(n=da.sanitizeString(i,n)||Ta,$(e)||$(t)||$(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:me(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};return $(r)||oe(r,function(e,t){o.data[e]=t}),o},Io);function Io(){}var To="AppInsightsPropertiesPlugin",Co="ApplicationInsightsAnalytics",Eo=function zs(g,h,t,m){W(zs,this,function(e){var u,n=null,f=[],p=!1;function d(){t&&ve(t.getTransmissionControls(),function(e){ve(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(i,r){var a=i.name;!$(a)&&"string"==typeof a||(e=tt(),a=i.name=e&&e.title||"");var e,o=i.uri;if(!$(o)&&"string"==typeof o||(e=rt(),o=i.uri=e&&e.href||""),!m.isPerformanceTimingSupported())return g.sendPageViewInternal(i,r),d(),void u.throwInternal(z.WARNING,V.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,l=m.getPerformanceTiming().navigationStart;0<l&&(s=Da(l,+new Date),m.shouldCollectDuration(s)||(s=undefined)),$(r)||$(r.duration)||(t=r.duration),!h&&isNaN(t)||(isNaN(t)&&((r=r||{}).duration=s),g.sendPageViewInternal(i,r),d(),c=!0),r=r||{},f.push(t=function(){var e,t=!1;try{m.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},m.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(r.duration=e.durationMs,g.sendPageViewInternal(i,r)),p||(g.sendPageViewPerformanceInternal(e,r),p=!0)):(r.duration=s,g.sendPageViewInternal(i,r))):0<l&&6e4<Da(l,+new Date)&&(t=!0,c||(r.duration=6e4,g.sendPageViewInternal(i,r)))}catch(n){u.throwInternal(z.CRITICAL,V.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+we(n),{exception:ut(n)})}return t}),n=n||setInterval(function(){var e=f.slice(0),t=!1;f=[],ve(e,function(e){e()?t=!0:f.push(e)}),0===f.length&&(clearInterval(n),n=null),t&&d()},100)}})},No=(So.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ut(i))}},So.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ut(i)),null}},So.prototype.startPageVisitTimer=function(e,t){try{var n,i;Sa()&&(null!=ba(this._logger,this.prevPageVisitDataKeyName)&&De("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new bo(e,t),i=st().stringify(n),Aa(this._logger,this.prevPageVisitDataKeyName,i))}catch(r){this._logger.warnToConsole("Call to start failed: "+ut(r))}},So.prototype.stopPageVisitTimer=function(){try{if(Sa()){var e=Ae(),t=ba(this._logger,this.prevPageVisitDataKeyName);if(t&&ot()){var n=st().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,wa(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ut(i)),null}},So);function So(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var bo=function(e,t){this.pageVisitStartTime=Ae(),this.pageName=e,this.pageUrl=t},Ao=(wo.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t,n,i,r,a=this.getPerformanceNavigationTiming(),o=this.getPerformanceTiming();(a||o)&&(o=a?(t=a.duration,n=Da(a.startTime,a.connectEnd),i=Da(a.requestStart,a.responseStart),r=Da(a.responseStart,a.responseEnd),Da(a.responseEnd,a.loadEventEnd)):(t=Da(o.navigationStart,o.loadEventEnd),n=Da(o.navigationStart,o.connectEnd),i=Da(o.requestStart,o.responseStart),r=Da(o.responseStart,o.responseEnd),Da(o.responseEnd,o.loadEventEnd)),0===t?this._logger.throwInternal(z.WARNING,V.ErrorPVCalc,"error calculating page view performance.",{total:t,network:n,request:i,response:r,dom:o}):this.shouldCollectDuration(t,n,i,r,o)?t<Math.floor(n)+Math.floor(i)+Math.floor(r)+Math.floor(o)?this._logger.throwInternal(z.WARNING,V.ClientPerformanceMathError,"client performance math error.",{total:t,network:n,request:i,response:r,dom:o}):(e.durationMs=t,e.perfTotal=e.duration=va(t),e.networkConnect=va(n),e.sentRequest=va(i),e.receivedResponse=va(r),e.domProcessing=va(o),e.isValid=!0):this._logger.throwInternal(z.WARNING,V.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:t,network:n,request:i,response:r,dom:o}))},wo.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?at().timing:null},wo.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?at().getEntriesByType("navigation")[0]:null},wo.prototype.isPerformanceNavigationTimingSupported=function(){var e=at();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},wo.prototype.isPerformanceTimingSupported=function(){var e=at();return e&&e.timing},wo.prototype.isPerformanceTimingDataReady=function(){var e=at();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},wo.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=(it()||{}).userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||!!~i.toLowerCase().indexOf(n[a]);if(r)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},wo);function wo(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var _o="duration";function xo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Po,eo=(Po=wt,__extends(Do,Po),Do.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=ma(e.disableExceptionTracking),e.autoTrackPageVisitTime=ma(e.autoTrackPageVisitTime),e.overridePageViewDuration=ma(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=ma(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=ma(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ma(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=ma(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},Do.Version="2.6.1",Do);function Do(){var v,y,I,T,C,E=Po.call(this)||this;return E.identifier=Co,E.priority=180,E.autoRoutePVDelay=500,W(Do,E,function(h,m){var e=rt(!0);T=e&&e.href||"",h.getCookieMgr=function(){return nn(h.core)},h.processTelemetry=function(a,o){Ct(h.core,function(){return h.identifier+":processTelemetry"},function(){var e=!1,t=h._telemetryInitializers.length;o=h._getTelCtx(o);for(var n=0;n<t;++n){var i=h._telemetryInitializers[n];if(i)try{if(!1===i.call(null,a)){e=!0;break}}catch(r){o.diagLog().throwInternal(z.CRITICAL,V.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+we(r),{exception:ut(r)},!0)}}e||h.processNext(a,o)},function(){return{item:a}},!a.sync)},h.trackEvent=function(e,t){try{var n=yo.create(e,Ra.dataType,Ra.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(z.WARNING,V.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+we(i),{exception:ut(i)})}},h.startTrackEvent=function(e){try{v.start(e)}catch(t){h.diagLog().throwInternal(z.CRITICAL,V.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+we(t),{exception:ut(t)})}},h.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(i){h.diagLog().throwInternal(z.CRITICAL,V.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+we(i),{exception:ut(i)})}},h.trackTrace=function(e,t){try{var n=yo.create(e,lo.dataType,lo.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(z.WARNING,V.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+we(i),{exception:ut(i)})}},h.trackMetric=function(e,t){try{var n=yo.create(e,Qa.dataType,Qa.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(z.CRITICAL,V.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+we(i),{exception:ut(i)})}},h.trackPageView=function(e,t){try{var n=e||{};h._pageViewManager.trackPageView(n,__assign({},n.properties,n.measurements,t)),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(i){h.diagLog().throwInternal(z.CRITICAL,V.TrackPVFailed,"trackPageView failed, page view will not be collected: "+we(i),{exception:ut(i)})}},h.sendPageViewInternal=function(e,t,n){var i=tt();i&&(e.refUri=e.refUri===undefined?i.referrer:e.refUri),n=yo.create(e,io.dataType,io.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.sendPageViewPerformanceInternal=function(e,t,n){n=yo.create(e,mo.dataType,mo.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.trackPageViewPerformance=function(e,t){try{h._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),h.sendPageViewPerformanceInternal(e,t)}catch(n){h.diagLog().throwInternal(z.CRITICAL,V.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+we(n),{exception:ut(n)})}},h.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=tt())&&t.title||""),y.start(e)}catch(n){h.diagLog().throwInternal(z.CRITICAL,V.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+we(n),{exception:ut(n)})}},h.stopTrackPage=function(e,t,n,i){try{var r,a;"string"!=typeof e&&(e=(r=tt())&&r.title||""),"string"!=typeof t&&(t=(a=rt())&&a.href||""),y.stop(e,t,n,i),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){h.diagLog().throwInternal(z.CRITICAL,V.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+we(o),{exception:ut(o)})}},h.sendExceptionInternal=function(e,t,n){e=new Ua(h.diagLog(),e.exception||Error(Ta),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),n=yo.create(e,Ua.dataType,Ua.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.trackException=function(e,t){try{h.sendExceptionInternal(e,t)}catch(n){h.diagLog().throwInternal(z.CRITICAL,V.TrackExceptionFailed,"trackException failed, exception will not be collected: "+we(n),{exception:ut(n)})}},h._onerror=function(e){try{var t,n={url:e&&e.url||(tt()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message},i=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!de(i)||"Script error."!==i&&"Script error"!==i?(pe(e.error)||(t="window.onerror@"+n.url+":"+e.lineNumber+":"+(e.columnNumber||0),e.error=Error(e.message),e.error.stack=t),h.trackException({exception:e.error,severityLevel:ho.Error},n)):(a={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:r=n.url,lineNumber:0,columnNumber:0,error:undefined},r=yo.create(a,Ua.dataType,Ua.envelopeType,h.diagLog(),{url:r}),h.core.track(r))}catch(o){e=e.error?e.error.name+", "+e.error.message:"null",h.diagLog().throwInternal(z.CRITICAL,V.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+we(o),{exception:ut(o),errorString:e})}var r,a},h.addTelemetryInitializer=function(e){h._telemetryInitializers.push(e)},h.initialize=function(e,t,n,i){if(!h.isInitialized()){if($(t))throw Error("Error initializing");m.initialize(e,t,n,i),h.setInitialized(!1);var r=h._getTelCtx(),a=h.identifier;h.config=r.getExtCfg(a),(t=Do.getDefaultConfig())!==undefined&&oe(t,function(e,t){h.config[e]=r.getConfig(a,e,t),h.config[e]===undefined&&(h.config[e]=t)}),h.config.isStorageUseDisabled&&(Ca=!1),i={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return h.config.accountId||e.accountId},sessionRenewalMs:function(){return h.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return h.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return h.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return h.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return h.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return h.config.appId||e.appId}},h._pageViewPerformanceManager=new Ao(h.core),h._pageViewManager=new Eo(E,h.config.overridePageViewDuration,h.core,h._pageViewPerformanceManager),h._pageVisitTimeManager=new No(h.diagLog(),function(e,t,n){h.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t={PageName:e,PageUrl:t})}),h._telemetryInitializers=h._telemetryInitializers||[],i.isBrowserLinkTrackingEnabled()||(g=["/browserLinkSignalR/","/__browserLink/"],h._telemetryInitializers.push(function(e){if(e.baseType===oo.dataType){var t=e.baseData;if(t)for(var n=0;n<g.length;n++)if(t.target&&~t.target.indexOf(g[n]))return!1}return!0})),(v=new ko(h.diagLog(),"trackEvent")).action=function(e,t,n,i){(i=i||{})[_o]=n.toString(),h.trackEvent({name:e,properties:i})},(y=new ko(h.diagLog(),"trackPageView")).action=function(e,t,n,i,r){(i=$(i)?{}:i)[_o]=n.toString(),h.sendPageViewInternal({name:e,uri:t,properties:i,measurements:r},i)};var o,s,c,l,u,f=et(),t=typeof history===Oe&&history?history:Ze(Fe),p=rt(!0),d=E;!1===h.config.disableExceptionTracking&&!h.config.autoExceptionInstrumented&&f&&(o=f.onerror,f.onerror=function(e,t,n,i,r){var a=o&&o(e,t,n,i,r);return!0!==a&&d._onerror({message:e=e&&!de(e)?ie(e.toString)?e.toString():JSON.stringify(e):e,url:t,lineNumber:n,columnNumber:i,error:r}),a},h.config.autoExceptionInstrumented=!0),!1===h.config.disableExceptionTracking&&!0===h.config.enableUnhandledPromiseRejectionTracking&&!h.config.autoUnhandledPromiseInstrumented&&f&&(s=f[i="onunhandledrejection"],f[i]=function(e){var t=s&&s.call(f,e);return!0!==t&&d._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:Error(e.reason.toString()),url:p?p.href:"",lineNumber:0,columnNumber:0}),t},h.config.autoUnhandledPromiseInstrumented=!0),!0===h.config.enableAutoRouteTracking&&t&&ie(t.pushState)&&ie(t.replaceState)&&f&&"undefined"!=typeof Event&&(c=E,ve(n,function(e){e.identifier===To&&(I=e)}),t.pushState=(u=t.pushState,function(){var e=u.apply(this,arguments);return xo(f,ha(c.config.namePrefix+"pushState")),xo(f,ha(c.config.namePrefix+"locationchange")),e}),t.replaceState=(l=t.replaceState,function(){var e=l.apply(this,arguments);return xo(f,ha(c.config.namePrefix+"replaceState")),xo(f,ha(c.config.namePrefix+"locationchange")),e}),f.addEventListener&&(f.addEventListener(c.config.namePrefix+"popstate",function(){xo(f,ha(c.config.namePrefix+"locationchange"))}),f.addEventListener(c.config.namePrefix+"locationchange",function(){I&&I.context&&I.context.telemetryTrace&&(I.context.telemetryTrace.traceID=Pn(),I.context.telemetryTrace.name=p&&p.pathname||"_unknown_"),C&&(T=C),C=p&&p.href||"",setTimeout((function(e){c.trackPageView({refUri:e,properties:{duration:0}})}).bind(E,T),c.autoRoutePVDelay)}))),h.setInitialized(!0)}var g}}),E}var ko=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(z.WARNING,V.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,i){var r=s[e];isNaN(r)?a.throwInternal(z.WARNING,V.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(r=Da(r,+new Date),o.action(e,t,r,n,i)),delete s[e],s[e]=undefined}};function Ro(n){oe(n,function(e,t){Wn(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Lo(e,t,n){var i=e;if(i){for(;!t(i,n);)if(!(i=i.parentNode)||!i.getAttribute)return null;return i}}function Oo(e){return"A"===e.nodeName}function Mo(e,t){return Wn(Vo(e,t))}function Vo(e,t){return Lo(e,Uo,t)}function Uo(e,t){return Wn(t=e.getAttribute(t))||""===t}function Bo(e){return"["+e+"]"}function Fo(n,i,r,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,i&&i.apply(a,e)},r),t&&n&&n.apply(a,e)}}function zo(){var e=et(),t=tt();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function Ho(){var e,t={h:0,w:0},n=et(),i=tt();return n&&i&&n.screen&&(e=i.body||{},i=i.documentElement||{},t.h=n.innerHeight||e.clientHeight||i.clientHeight,t.w=n.innerWidth||e.clientWidth||i.clientWidth),t}var Wo,Go={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};(wt=Wo={})[wt.PAGE_ACTION=0]="PAGE_ACTION",wt[wt.CONTENT_UPDATE=1]="CONTENT_UPDATE";var Ko={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function qo(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return Wn(t)&&"pii"==t.toLowerCase()}catch(n){return}}function Xo(e,t){var n,i="",r={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:ve(o,function(e){"ANON"!==e&&a.push(e)});try{try{Hn&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){t.throwInternal(z.CRITICAL,Mn.FailedToGetCookies,"Failed to get cookies ")}ve(a,function(e){r.hasOwnProperty(e)||(r[e]="",zn&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(i+=e+"="+n+";"))})}catch(s){t.throwInternal(z.CRITICAL,Mn.FailedToGetCookies,"Failed to get cookies ")}return i}function jo(t){!function n(e){var t=tt()||{};/in/.test(t.readyState)?setTimeout(function(){n(e)},100):e.call()}(function(){var e;zn&&"complete"===document.readyState?t():(e=et())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var Yo={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Jo={parentId:"parentId",parentName:"parentName"},Qo={parentId:"pI",parentName:"pN"},Zo=($o.prototype.getMetadata=function(){var e={},t={};return zn&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),$n(!0,t,e)},$o.prototype.getVisibleContent=function(){var e,t,n,i,r,a,o,s,c=Ho(),l={top:0,bottom:c.h,left:0,right:c.w},u=null,f=[];if(u=zn?document.querySelectorAll(Bo(this._contentBlobFieldNames.areaName)+","+Bo(this._contentBlobFieldNames.slotNumber)+","+Bo(this._config.biBlobAttributeTag)):u)for(var p=0;p<u.length;p++){var d=u[p];Mo(d,"data-bi-dnt")||(t=l,0,!(0<(r=(n=(e=d).getBoundingClientRect()).left,a=n.top,o=n.right,e=n.bottom,t=(i=t).left,s=i.top,n=i.right,i=i.bottom,Math.max(0,Math.min(o,n)-Math.max(r,t))*Math.max(0,Math.min(e,i)-Math.max(a,s)))))||(d=this.getElementContent(d,Wo.CONTENT_UPDATE))&&f.push(d)}return f},$o.prototype.getElementContent=function(e,t){if(!e)return{};var n,i,r,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){i=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(z.CRITICAL,Mn.CannotParseBiBlobValue,"Can not parse "+i)}}else this._isTrackedWithDataBi(e)&&(a=$n(a,this._populateElementContentwithDataBi(r=e,e)));else if(i=(n=Vo(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):i)try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(z.CRITICAL,Mn.CannotParseBiBlobValue,"Can not parse "+i)}else r=Lo(e,this._isTrackedWithDataBi),a=$n(a,this._populateElementContentwithDataBi(r,e));return Ro(a),this._config.autoCapture.lineage&&t===Wo.PAGE_ACTION&&(a=$n(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?$n(a,this._getParentDetails(n||r,a)):a},$o.prototype.getLineageDetails=function(e){for(var t,n,i,r=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],l=e.getAttribute(s)||e[s];if(c){try{var u=JSON.parse(c)}catch(f){this._traceLogger.throwInternal(z.CRITICAL,Mn.CannotParseDataAttribute,"Can not parse "+c)}u&&(n=u.cN||u.cT,i=u.id||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),i=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i));e=e.parentElement}return{lineage:r.join(">"),lineageById:a.join(">"),lineageContainerName:t}},$o.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var i=Vo(e,this._contentBlobFieldNames.areaName),r=$n({},this._getAreaContent(i)),t=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",i=this._getDefaultContentName(e,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:r.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:t||e.getAttribute(this._contentBlobFieldNames.contentName)||i||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||r.contentSource,tN:r.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||r.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(z.WARNING,Mn.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},$o.prototype._getMetaDataFromDOM=function(e,t){var n={};if(zn)for(var i=document.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&(a.name.toLowerCase().indexOf(e)||(n[t?a.name.replace(e,""):a.name]=a.content))}return n},$o.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},$o.prototype._getDefaultContentName=function(e,t){if(!1===t||qo(e)||!e.tagName)return"";var n,i=tt()||{};switch(e.tagName){case"A":n=i.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},$o.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?Qo:Jo).parentId,i=(this._contentBlobFieldNames.isShortNames?Qo:Jo).parentName,r=t[n],t=t[i];return r||t||!e?{}:this._populateParentInfo(e,n,i)},$o.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},$o.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},$o.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||~t[n].name.indexOf("data-bi-"))return!0;return!1},$o.prototype._populateParentInfo=function(e,t,n){var i,r,a={},o=this._config.biBlobAttributeTag,s=Lo(e.parentElement,this._isTracked);if(s){if(o=s.getAttribute(o)||e[o]){try{var c=JSON.parse(o)}catch(l){this._traceLogger.throwInternal(z.CRITICAL,Mn.CannotParseDataAttribute,"Can not parse "+o)}c&&(i=c.id,r=c.cN)}else i=s.getAttribute(this._contentBlobFieldNames.id),r=s.getAttribute(this._contentBlobFieldNames.contentName);i&&(a[t]=i),r&&(a[n]=r)}return a},$o);function $o(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Yo.shortNames:Yo.longNames}var es={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},ts=(ns.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},ns.prototype.onLoad=function(){var e=this;jo(function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},ns.prototype.click=function(){var e,t=this,n=et(),i=tt();n&&n.addEventListener?(e=~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(e){t._processClick(e)}),i.attachEvent("keyup",function(e){t._processClick(e)}))},ns.prototype.scroll=function(e){var t=this,n=Fo(null,function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Go.SCROLL})},e.scroll,this);(e=et())&&(e.addEventListener?e.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},ns.prototype.maxScroll=function(t){var e=function(){var e=zo();t.v=(t.v>e.v?t:e).v},n=et();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},ns.prototype.resize=function(e){var t=this,n=Fo(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Go.RESIZE})},null,e.resize,this);(e=et())&&(e.addEventListener?e.addEventListener("resize",n):e.attachEvent&&e.attachEvent("onresize",n))},ns.prototype.onUnload=function(){var e=this;ii(function(){e._analyticsPlugin.capturePageUnload({isAuto:!0})})},ns.prototype._processClick=function(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=et(),i=(e=e||n.event).srcElement||e.target,r={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)r.actionType=Go.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)r.actionType=Go.CLICKLEFT;else if("keyCode"in(n=e)&&13===n.keyCode)r.actionType=Go.KEYBOARDENTER;else if("keyCode"in(n=e)&&32===n.keyCode)r.actionType=Go.KEYBOARDSPACE;else{if(!("which"in e?2===e.which:"button"in e&&4===e.button))return;r.actionType=Go.CLICKMIDDLE}for(;i&&i.tagName;){if(t[(i=i.control&&t[i.control.tagName.toUpperCase()]?i.control:i).tagName.toUpperCase()]){"INPUT"==i.tagName.toUpperCase()&&!es[i.type.toUpperCase()]||this._analyticsPlugin.capturePageAction(i,r,{},a);break}i=i.parentElement||i.parentNode}},ns);function ns(e,t){this._analyticsPlugin=e,this._traceLogger=t}function is(e,t,n){var i="";return t&&t[n]?i=t[n]:e&&(i=e[n]),i}function rs(e,t,n,i,r,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=i,this._pageTagsCallback=r,this._metaTags=a,this._traceLogger=o,this._pageTags={}}n.Behavior=void 0,(wt=n.Behavior||(n.Behavior={}))[wt.UNDEFINED=0]="UNDEFINED",wt[wt.NAVIGATIONBACK=1]="NAVIGATIONBACK",wt[wt.NAVIGATION=2]="NAVIGATION",wt[wt.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",wt[wt.APPLY=4]="APPLY",wt[wt.REMOVE=5]="REMOVE",wt[wt.SORT=6]="SORT",wt[wt.EXPAND=7]="EXPAND",wt[wt.REDUCE=8]="REDUCE",wt[wt.CONTEXTMENU=9]="CONTEXTMENU",wt[wt.TAB=10]="TAB",wt[wt.COPY=11]="COPY",wt[wt.EXPERIMENTATION=12]="EXPERIMENTATION",wt[wt.PRINT=13]="PRINT",wt[wt.SHOW=14]="SHOW",wt[wt.HIDE=15]="HIDE",wt[wt.MAXIMIZE=16]="MAXIMIZE",wt[wt.MINIMIZE=17]="MINIMIZE",wt[wt.BACKBUTTON=18]="BACKBUTTON",wt[wt.STARTPROCESS=20]="STARTPROCESS",wt[wt.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",wt[wt.COMPLETEPROCESS=22]="COMPLETEPROCESS",wt[wt.SCENARIOCANCEL=23]="SCENARIOCANCEL",wt[wt.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",wt[wt.DOWNLOAD=41]="DOWNLOAD",wt[wt.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",wt[wt.SEARCH=61]="SEARCH",wt[wt.SEARCHINITIATE=62]="SEARCHINITIATE",wt[wt.TEXTBOXINPUT=63]="TEXTBOXINPUT",wt[wt.PURCHASE=80]="PURCHASE",wt[wt.ADDTOCART=81]="ADDTOCART",wt[wt.VIEWCART=82]="VIEWCART",wt[wt.ADDWISHLIST=83]="ADDWISHLIST",wt[wt.FINDSTORE=84]="FINDSTORE",wt[wt.CHECKOUT=85]="CHECKOUT",wt[wt.REMOVEFROMCART=86]="REMOVEFROMCART",wt[wt.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",wt[wt.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",wt[wt.VIEWCARTPAGE=89]="VIEWCARTPAGE",wt[wt.VIEWPDP=90]="VIEWPDP",wt[wt.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",wt[wt.INTENTTOBUY=92]="INTENTTOBUY",wt[wt.PUSHTOINSTALL=93]="PUSHTOINSTALL",wt[wt.SIGNIN=100]="SIGNIN",wt[wt.SIGNOUT=101]="SIGNOUT",wt[wt.SOCIALSHARE=120]="SOCIALSHARE",wt[wt.SOCIALLIKE=121]="SOCIALLIKE",wt[wt.SOCIALREPLY=122]="SOCIALREPLY",wt[wt.CALL=123]="CALL",wt[wt.EMAIL=124]="EMAIL",wt[wt.COMMUNITY=125]="COMMUNITY",wt[wt.SOCIALFOLLOW=126]="SOCIALFOLLOW",wt[wt.VOTE=140]="VOTE",wt[wt.SURVEYINITIATE=141]="SURVEYINITIATE",wt[wt.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",wt[wt.REPORTAPPLICATION=143]="REPORTAPPLICATION",wt[wt.REPORTREVIEW=144]="REPORTREVIEW",wt[wt.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",wt[wt.CONTACT=160]="CONTACT",wt[wt.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",wt[wt.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",wt[wt.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",wt[wt.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",wt[wt.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",wt[wt.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",wt[wt.CHATINITIATE=180]="CHATINITIATE",wt[wt.CHATEND=181]="CHATEND",wt[wt.TRIALSIGNUP=200]="TRIALSIGNUP",wt[wt.TRIALINITIATE=201]="TRIALINITIATE",wt[wt.SIGNUP=210]="SIGNUP",wt[wt.FREESIGNUP=211]="FREESIGNUP",wt[wt.PARTNERREFERRAL=220]="PARTNERREFERRAL",wt[wt.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",wt[wt.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",wt[wt.SHOPPINGINTENT=232]="SHOPPINGINTENT",wt[wt.VIDEOSTART=240]="VIDEOSTART",wt[wt.VIDEOPAUSE=241]="VIDEOPAUSE",wt[wt.VIDEOCONTINUE=242]="VIDEOCONTINUE",wt[wt.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",wt[wt.VIDEOJUMP=244]="VIDEOJUMP",wt[wt.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",wt[wt.VIDEOBUFFERING=246]="VIDEOBUFFERING",wt[wt.VIDEOERROR=247]="VIDEOERROR",wt[wt.VIDEOMUTE=248]="VIDEOMUTE",wt[wt.VIDEOUNMUTE=249]="VIDEOUNMUTE",wt[wt.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",wt[wt.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",wt[wt.VIDEOREPLAY=252]="VIDEOREPLAY",wt[wt.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",wt[wt.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",wt[wt.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",wt[wt.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",wt[wt.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",wt[wt.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",wt[wt.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",wt[wt.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",wt[wt.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",wt[wt.IMPRESSION=280]="IMPRESSION",wt[wt.CLICK=281]="CLICK",wt[wt.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",wt[wt.ADBUFFERING=283]="ADBUFFERING",wt[wt.ADERROR=284]="ADERROR",wt[wt.ADSTART=285]="ADSTART",wt[wt.ADCOMPLETE=286]="ADCOMPLETE",wt[wt.ADSKIP=287]="ADSKIP",wt[wt.ADTIMEOUT=288]="ADTIMEOUT",wt[wt.OTHER=300]="OTHER",rs.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),Wn(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:t=(n=(t=(rt()||{}).pathname||"").split("/"))&&""!==n[n.length-1]?n[n.length-1]:"Undefined")),!Wn(e.uri)&&Hn&&(e.uri=(t=this._config,e=rt(),t.coreData&&t.coreData.requestUri&&""!==t.coreData.requestUri?t.coreData.requestUri:function(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(Wn(t.port)?":"+t.port:"")+t.pathname;if(e.urlCollectHash&&(n+=t.hash||""),e.urlCollectQuery){var i=t.search;return i||-1!=(t=(e=t.hash||"").indexOf("?"))&&(i=e.slice(t)),n+i}return n}(t,e)))},rs.prototype._setCommonProperties=function(e,t,n){var i=this;i._setBasicProperties(e,n),i._setPageTags(e,n),i._pageTypeMetaTag=is(i._metaTags,i._config.coreData,"pageType"),i._marketMetaTag=is(i._metaTags,i._config.coreData,"market"),i._behaviorMetaTag=is(i._metaTags,i._config.coreData,"behavior"),Wn(n.pageType)&&(e.pageType=n.pageType),Wn(i._pageTypeMetaTag)&&!Wn(e.pageType)&&(e.pageType=i._pageTypeMetaTag),Wn(i._marketMetaTag)&&(e.market=i._marketMetaTag),e.isLoggedIn=(i=i._config).callback&&"function"==typeof i.callback.signedinStatus?i.callback.signedinStatus():i.isLoggedIn,t.cookieEnabled=an()},rs.prototype._setPageTags=function(e,t){var n=this;n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=$n(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=$n(!0,n._pageTags,n._pageTagsCallback())),Wn(t.pageTags)&&(n._pageTags=$n(!0,n._pageTags,t.pageTags)),n._metaTags&&(n._pageTags.metaTags={},oe(n._metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},rs.prototype._getBehavior=function(e){var t;return e&&Wn(e.behavior)?t=e.behavior:Wn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},rs.prototype._getValidBehavior=function(e){if(Wn(e)){var t=parseInt(e);if((t=isNaN(t)?n.Behavior[e]:t)in n.Behavior)return t}return 0};var as,os=(u(ss,as=wt=rs),ss.prototype.capturePageView=function(e,t){e=Wn(e)?e:{};var n={},i=Wn(t)?t:{};this._setCommonProperties(n,i,e),n.refUri=(Wn(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,(t=Xo(this._config,this._traceLogger))&&(i.cookies=t),i.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,i)},ss);function ss(){return null!==as&&as.apply(this,arguments)||this}var cs,ls=(u(us,cs=wt),us.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:Ln.Normal};i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.actionType=e.actionType,i.baseData.behavior=e.behavior,i.baseData.clickCoordinates=e.clickCoordinates,i.baseData.content=e.content,i.baseData.contentVer=e.contentVer,i.baseData.targetUri=e.targetUri,oe(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},us.prototype.capturePageAction=function(e,t,n,i){t=Wn(t)?t:{};var r={},a=Wn(n)?n:{};this._setCommonProperties(r,a,t),r.isManual=!t.isAuto,r.behavior=this._getBehavior(t);var o={};i&&(r.behavior=9),e&&(r.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=function(e){if(e&&1===(e=Lo(e,Oo)).length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}return""}(e);break;case"INPUT":var n=e.type;n&&Ko[n.toUpperCase()]&&(n=rt()||{},t=e.form?e.form.action||n.pathname||"":n.pathname||"")}return t}(e),(o=$n(o=this._contentHandler.getElementContent(e,Wo.PAGE_ACTION),this._getCustomTags(e)))&&o.bhvr&&!Wn(t.behavior)&&(n="bhvr",(i=o)&&i[n]&&(s=i[n],delete i[n]),r.behavior=this._getValidBehavior(s))),Wn(t.actionType)&&(r.actionType=t.actionType),Wn(t.clickCoordinateX)&&Wn(t.clickCoordinateY)&&(r.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),r.contentVer="2.0";var s=this._config.callback.pageActionContentTags;r.content=Bo(JSON.stringify($n(t.content||o,"function"==typeof s?s(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=Wn(t.refUri)?t.refUri:this._config.coreData.referrerUri,(t=Xo(this._config,this._traceLogger))&&(a.cookies=t),this.trackPageAction(r,a)},us.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!qo(e))for(var i in e.attributes)i&&(!e.attributes[i]||(t=e.attributes[i].name)&&(t.toLowerCase().indexOf("ms.")||(n[t]=e.attributes[i].value)));e=e.parentElement||e.parentNode}return n},us.prototype._getTimeToClick=function(){var e=at();return e&&e.timing&&(e=e.timing.navigationStart)&&0!==e?(new Date).getTime()-e:-1},us);function us(){return null!==cs&&cs.apply(this,arguments)||this}var fs,ps=(u(ds,fs=wt),ds.prototype.trackContentUpdate=function(t,e){var n={web:{}};n.web.isManual=t.isManual;var i={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:Ln.RealTime};ve(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){i.baseData[e]=t[e]}),oe(e,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},ds.prototype.captureContentUpdate=function(e,t){e=Wn(e)?e:{};var n={},i=Wn(t)?t:{};this._setCommonProperties(n,i,e),n.behavior=this._getBehavior(e),Wn(e.actionType)&&(n.actionType=e.actionType);var r=Ho(),t=zo();n.pageHeight=zn?document.body.scrollHeight:null,n.vpHeight=r.h,n.vpWidth=r.w,n.vScrollOffset=t.v,n.hScrollOffset=t.h,n.contentVer="2.0",n.isManual=!e.isAuto,(t=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()))&&(n.content=t),Wn(e.isDomComplete)?i.isDomComplete=e.isDomComplete:i.isDomComplete=!1,this.trackContentUpdate(n,i)},ds.prototype._getContentFormatted=function(e){return Wn(e)?"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):Bo(JSON.stringify(e)):undefined},ds);function ds(){return null!==fs&&fs.apply(this,arguments)||this}var gs,hs=(u(ms,gs=wt),ms.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:Ln.RealTime};i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,oe(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},ms.prototype.capturePageUnload=function(e,t){e=Wn(e)?e:{};var n={},i=Wn(t)?t:{},t=zn?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,i.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),i.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+t.toString(),i.vpHeight=Ho().h,i.vScrollOffset=e.vScrollOffset||this._maxScroll.v,!Hn||(e=(e=at())?e.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(i.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,i)},ms);function ms(e,t,n,i,r,a){var o=gs.call(this,e,t,null,n,{},{},i)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=i,o._timestamp=r,o._maxScroll=a,o}var vs,ys=(u(Is,vs=wt),Is.prototype.capturePageViewPerformance=function(e,t){e=Wn(e)?e:{};var n={},t=Wn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)},Is);function Is(){return null!==vs&&vs.apply(this,arguments)||this}var Ts=(Cs.visitorId=function(){return Qn(nn(null),"MUID")},Cs.prototype.createTraceId=function(){return Zn().replace(/-/g,"")},Cs.prototype.getTraceId=function(){return this.traceId},Cs.prototype.getLastPageViewId=function(){return this.lastPageViewId},Cs.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=Zn()):this.firstPageView=!0},Cs.prototype.getMuidUserId=function(){var e=Qn(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},Cs.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<Cs.userIdPrefixes.length;t++)if(Cs.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},Cs.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},Cs.prototype.getDeviceClass=function(){return this.deviceClass},Cs.prototype.getAppUserId=function(){return this.appUserId},Cs.prototype.syncMuid=function(e){var t=rt();t&&(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=tt())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"))},Cs.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},Cs.userIdPrefixes=["c:","i:","w:"],Cs);function Cs(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=nn(e),this.lastPageViewId=Zn(),this.traceId=this.createTraceId()}var Es=(Ns.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},Ns);function Ns(){this._timers=[]}var Ss,bs="data-bi-dnt",As=(u(ws,Ss=eo),ws);function ws(){var l,u,f,p,d,g,h,m=Ss.call(this)||this;m.identifier="WebAnalyticsPlugin",m.version="3.1.1";var v,y,I,T={h:0,v:0},i=!1;return W(ws,m,function(s,c){function n(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}s._telemetryInitializers=s._telemetryInitializers||[],s.updateCoreDataConfig=function(e){h.coreData=$n(!0,h.coreData,e)},s.initialize=function(e,t,n){var i=t;e.extensionConfig=e.extensionConfig||[],e.extensionConfig[s.identifier]=e.extensionConfig[s.identifier]||{},s._config=h=function(e){var n,t,i={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:zn?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},r=[];if(oe(i,function(e,t){ne(t)&&r.push(e)}),e)return t=r,Ro(n=e),ve(t,function(e,t){ne(n[e])?Ro(n[e]):delete n[e]}),$n(!0,i,e)}(e.extensionConfig[s.identifier]);var r=h.autoCapture,a=i.getWParam;if(i.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[s.identifier].disableExceptionTracking=!r.jsError,c.initialize(e,t,n),y=y||new Zo(h,s.diagLog()),I=I||new ts(s,s.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(s.diagLog().throwInternal(z.WARNING,Mn.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}s.id=new Ts(t),v=new Es,t=y.getMetadata(),l=new os(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),u=new ls(m,h,y,s.id,h.callback.pageActionPageTags,t,s.diagLog()),f=new ps(m,h,y,s.id,h.callback.contentUpdatePageTags,t,s.diagLog()),p=new hs(m,h,s.id,s.diagLog(),v,T),d=new ys(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),h.syncMuid&&jo(function(){var e=s.id.getMuidHost(h.muidDomain);s.id.syncMuid(e)}),r.pageView&&I.pageView(),r.onLoad&&I.onLoad(),r.click&&I.click(),r.scroll&&I.scroll(h.debounceMs),r.resize&&I.resize(h.debounceMs),(r.onUnload||h.manualPageUnload)&&I.maxScroll(T),r.onUnload&&I.onUnload()},s.processTelemetry=function(e,t){ri(e,s.identifier);var n=e;"PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=Ln.RealTime):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=Ln.Normal,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=Ln.Normal,delete n.baseData.isValid,delete n.baseData.durationMs),e=null,"PageviewData"!==n.baseType?h.manageCv&&(e=g.getCv())&&e.increment():h.manageCv&&((e=g.getCv())?e.seed():e=g.getCv());for(var i=!1,r=s._telemetryInitializers.length,a=0;a<r;++a){var o=s._telemetryInitializers[a];if(o&&!1===o.call(null,n)){i=!0;break}}i||s.processNext(n,t)},s.addTelemetryInitializer=function(e){s._telemetryInitializers.push(e)},s.trackEvent=function(n,e){n.latency=n.latency||Ln.Normal,n.baseData=n.baseData||{},n.data=n.data||{},Wn(e)&&oe(e,function(e,t){n.data[e]=t}),s.core.track(n)},s.trackPageView=function(e,t){v._recordTimeSpan("dwellTime",!1),T.v=0,i=!1,s.id.initializeIds(),e.id=s.id.getLastPageViewId(),c.sendPageViewInternal(e,t,n(e))},s.capturePageView=function(e,t){l.capturePageView(e,t)},s.trackPageViewPerformance=function(e,t){c.sendPageViewPerformanceInternal(e,t,n(e))},s.capturePageViewPerformance=function(e,t){d.capturePageViewPerformance(e,t)},s.trackException=function(e,t){e.id=e.id||Zn(),c.sendExceptionInternal(e,t,n(e))},s.trackPageAction=function(e,t){u.trackPageAction(e,t)},s.capturePageAction=function(e,t,n,i){Mo(e,bs)||u.capturePageAction(e,t,n,i)},s.trackContentUpdate=function(e,t){f.trackContentUpdate(e,t)},s.captureContentUpdate=function(e,t){f.captureContentUpdate(e,t)},s.trackPageUnload=function(e,t){i||(i=!0,p.trackPageUnload(e,t))},s.capturePageUnload=function(e,t){i||(i=!0,p.capturePageUnload(e,t))},s._populatePageViewPerformance=function(e){s._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},s.setContentHandler=function(e){y=e},s.setAutoCaptureHandler=function(e){I=e}}),m}var _s,xs=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],Ps=(u(Ds,_s=fi),Ds.prototype.initialize=function(a,o){var s=this,c=this;Ct(c,function(){return"ApplicationInsights:initialize"},function(){var e=[c._propertyManager,c._webAnalytics];if(o&&(e=e.concat(o)),a.channels&&0<a.channels.length){for(var t=!1,n=0;n<a.channels[0].length;n++)if(a.channels[0][n].identifier===c._postChannel.identifier){t=!0;break}t||a.channels[0].push(c._postChannel)}else a.channels=[[c._postChannel]];var i=a.extensionConfig=a.extensionConfig||[];i[c._postChannel.identifier]=a?a.channelConfiguration:{},i[c._propertyManager.identifier]=a?a.propertyConfiguration:{},i[c._webAnalytics.identifier]=a?a.webAnalyticsConfiguration:{};try{_s.prototype.initialize.call(s,a,e)}catch(r){c.logger.throwInternal(z.CRITICAL,Mn.FailedToInitializeSDK,"Failed to initialize SDK."+r)}},function(){return{config:a,extensions:o}})},Ds.prototype.getPropertyManager=function(){return this._propertyManager},Ds.prototype.getPostChannel=function(){return this._postChannel},Ds.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},Ds.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},Ds.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},Ds.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},Ds.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},Ds.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},Ds.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},Ds.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},Ds.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},Ds.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},Ds.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},Ds.prototype.capturePageAction=function(e,t,n,i){this._webAnalytics.capturePageAction(e,t,n,i)},Ds.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},Ds.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},Ds.prototype._onerror=function(e){this._webAnalytics._onerror(e)},Ds.prototype.emptySnippetQueue=function(n){try{if(n&&($(this._snippetVersion)||this._snippetVersion,oe(this,function(e,t){de(e)&&!ie(t)&&e&&"_"!==e[0]&&!~xs.indexOf(e)&&(n[e]=t)})),fe(n.queue)){for(var e=n.queue.length,t=0;t<e;t++)(0,n.queue[t])();n.queue=undefined,delete n.queue}}catch(i){i&&ie(i.toString)&&i.toString()}},Ds.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),ke(e,this,function(e){return e&&!~xs.indexOf(e)})},Ds);function Ds(){var e=_s.call(this)||this;return e._postChannel=new fa,e._propertyManager=new Dr,e._webAnalytics=new As,e}!function(){try{var e,t,n,i=Qe();i&&i[n=i.onedsSDK||"oneDSWeb"]!==undefined&&(e=i[n],(t=new Ps).updateSnippetDefinitions(e),t.initialize(e.config,e.extensions),(i[n]=t).emptySnippetQueue(e))}catch(r){console&&console.warn("Failed to initialize AppInsights JS SDK for instance "+n+r.message)}}(),n.ActionType=Go,n.ApplicationInsights=Ps,n.BE_PROFILE=Or,n.CoreUtils=ci,n.DiagnosticLogger=ht,n.EventLatency=Ln,n.EventPersistence={Normal:1,Critical:2},n.EventsDiscardedReason=H,n.MinChannelPriorty=100,n.NRT_PROFILE=Lr,n.NotificationManager=dn,n.PostChannel=fa,n.PropertiesPlugin=Dr,n.RT_PROFILE=Rr,n.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},n.Utils=si,n.ValueKind=Rn,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch(r){}typeof n.value!==undefined&&(e[t]=n.value)}(n,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{});
//# sourceMappingURL=ms.analytics-web-3.1.1.min.js.map
